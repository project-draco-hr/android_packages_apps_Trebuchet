{
  setup();
  try {
    mAllApps=(AllAppsPagedView)findViewById(R.id.all_apps_paged_view);
    if (mAllApps == null)     throw new Resources.NotFoundException();
  }
 catch (  Resources.NotFoundException e) {
    Log.e(TAG,"Can't find necessary layout elements for AllAppsTabbed");
  }
  TabContentFactory contentFactory=new TabContentFactory(){
    public View createTabContent(    String tag){
      return mAllApps;
    }
  }
;
  String label=mContext.getString(R.string.all_apps_tab_all);
  addTab(newTabSpec(TAG_ALL).setIndicator(label).setContent(contentFactory));
  label=mContext.getString(R.string.all_apps_tab_apps);
  addTab(newTabSpec(TAG_APPS).setIndicator(label).setContent(contentFactory));
  label=mContext.getString(R.string.all_apps_tab_games);
  addTab(newTabSpec(TAG_GAMES).setIndicator(label).setContent(contentFactory));
  label=mContext.getString(R.string.all_apps_tab_downloaded);
  addTab(newTabSpec(TAG_DOWNLOADED).setIndicator(label).setContent(contentFactory));
  TabWidget tabWidget=getTabWidget();
  for (int i=0; i < tabWidget.getChildCount(); ++i) {
    RelativeLayout tab=(RelativeLayout)tabWidget.getChildTabViewAt(i);
    TextView text=(TextView)tab.getChildAt(1);
    text.setTextSize(20.0f);
    text.setPadding(20,0,20,0);
    text.setShadowLayer(1.0f,0.0f,1.0f,Color.BLACK);
    tab.setBackgroundDrawable(null);
  }
  setOnTabChangedListener(new OnTabChangeListener(){
    public void onTabChanged(    String tabId){
      final int duration=150;
      final float alpha=mAllApps.getAlpha();
      ValueAnimator alphaAnim=new ObjectAnimator(duration,mAllApps,"alpha",alpha,0.0f);
      alphaAnim.addListener(new AnimatorListenerAdapter(){
        public void onAnimationEnd(        Animator animation){
          String tag=getCurrentTabTag();
          if (tag == TAG_ALL) {
            mAllApps.setAppFilter(AllAppsPagedView.ALL_APPS_FLAG);
          }
 else           if (tag == TAG_APPS) {
            mAllApps.setAppFilter(ApplicationInfo.APP_FLAG);
          }
 else           if (tag == TAG_GAMES) {
            mAllApps.setAppFilter(ApplicationInfo.GAME_FLAG);
          }
 else           if (tag == TAG_DOWNLOADED) {
            mAllApps.setAppFilter(ApplicationInfo.DOWNLOADED_FLAG);
          }
          final float alpha=mAllApps.getAlpha();
          ValueAnimator alphaAnim=new ObjectAnimator(duration,mAllApps,"alpha",alpha,1.0f);
          alphaAnim.start();
        }
      }
);
      alphaAnim.start();
    }
  }
);
  setCurrentTab(0);
  setVisibility(INVISIBLE);
}
