{
  if (packageNames.isEmpty()) {
    return;
  }
synchronized (sLock) {
    Set<String> strings=sharedPrefs.getStringSet(APPS_PENDING_INSTALL,null);
    if (strings != null) {
      Set<String> newStrings=new HashSet<String>(strings);
      for (      String json : newStrings) {
        try {
          JSONObject object=(JSONObject)new JSONTokener(json).nextValue();
          Intent launchIntent=Intent.parseUri(object.getString(LAUNCH_INTENT_KEY),0);
          String pn=launchIntent.getPackage();
          if (pn == null) {
            pn=launchIntent.getComponent().getPackageName();
          }
          if (packageNames.contains(pn)) {
            newStrings.remove(json);
          }
        }
 catch (        org.json.JSONException e) {
          Log.d("InstallShortcutReceiver","Exception reading shortcut to remove: " + e);
        }
catch (        java.net.URISyntaxException e) {
          Log.d("InstallShortcutReceiver","Exception reading shortcut to remove: " + e);
        }
      }
      sharedPrefs.edit().putStringSet(APPS_PENDING_INSTALL,new HashSet<String>(newStrings)).commit();
    }
  }
}
