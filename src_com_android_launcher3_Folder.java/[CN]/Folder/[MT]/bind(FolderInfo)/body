{
  mInfo=info;
  ArrayList<ShortcutInfo> children=info.contents;
  ArrayList<ShortcutInfo> overflow=new ArrayList<ShortcutInfo>();
  final int totalChildren=children.size();
  setupContentForNumItems(totalChildren);
  Collections.sort(children,Utilities.RANK_COMPARATOR);
  final int countX=mContent.getCountX();
  int visibleChildren=0;
  for (int i=0; i < children.size(); i++) {
    ShortcutInfo child=children.get(i);
    child.cellX=i % countX;
    child.cellY=i / countX;
    if (createAndAddShortcut(child) == null) {
      overflow.add(child);
    }
 else {
      visibleChildren++;
    }
  }
  setupContentForNumItems(visibleChildren);
  for (  ShortcutInfo item : overflow) {
    mInfo.remove(item);
    LauncherModel.deleteItemFromDatabase(mLauncher,item);
  }
  mItemsInvalidated=true;
  updateTextViewFocus();
  mInfo.addListener(this);
  if (!sDefaultFolderName.contentEquals(mInfo.title)) {
    mFolderName.setText(mInfo.title);
  }
 else {
    mFolderName.setText("");
  }
  mFolderIcon.post(new Runnable(){
    public void run(){
      if (getItemCount() <= 1) {
        replaceFolderWithFinalItem();
      }
    }
  }
);
}
