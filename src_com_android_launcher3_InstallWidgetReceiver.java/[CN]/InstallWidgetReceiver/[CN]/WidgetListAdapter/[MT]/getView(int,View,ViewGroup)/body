{
  final Context context=parent.getContext();
  final PackageManager packageManager=context.getPackageManager();
  if (mInflater == null) {
    mInflater=LayoutInflater.from(context);
  }
  if (convertView == null) {
    convertView=mInflater.inflate(R.layout.external_widget_drop_list_item,parent,false);
  }
  final WidgetMimeTypeHandlerData data=mActivities.get(position);
  final ResolveInfo resolveInfo=data.resolveInfo;
  final AppWidgetProviderInfo widgetInfo=data.widgetInfo;
  Drawable d=resolveInfo.loadIcon(packageManager);
  ImageView i=(ImageView)convertView.findViewById(R.id.provider_icon);
  i.setImageDrawable(d);
  final CharSequence component=resolveInfo.loadLabel(packageManager);
  final int[] widgetSpan=new int[2];
  CellLayout.rectToCell(widgetInfo.minWidth,widgetInfo.minHeight,widgetSpan);
  TextView t=(TextView)convertView.findViewById(R.id.provider);
  t.setText(context.getString(R.string.external_drop_widget_pick_format,component,widgetSpan[0],widgetSpan[1]));
  return convertView;
}
