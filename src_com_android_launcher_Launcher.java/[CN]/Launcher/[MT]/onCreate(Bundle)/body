{
  super.onCreate(savedInstanceState);
  mInflater=getLayoutInflater();
  mGadgetManager=GadgetManager.getInstance(this);
  mGadgetHost=new LauncherGadgetHost(this,GADGET_HOST_ID);
  mGadgetHost.startListening();
  if (PROFILE_STARTUP) {
    android.os.Debug.startMethodTracing("/sdcard/launcher");
  }
  checkForLocaleChange();
  setWallpaperDimension();
  if (sModel == null) {
    sModel=new LauncherModel();
  }
  setContentView(R.layout.launcher);
  setupViews();
  registerIntentReceivers();
  registerContentObservers();
  mSavedState=savedInstanceState;
  restoreState(mSavedState);
  if (PROFILE_STARTUP) {
    android.os.Debug.stopMethodTracing();
  }
  if (!mRestoring) {
    startLoaders();
  }
  mDefaultKeySsb=new SpannableStringBuilder();
  Selection.setSelection(mDefaultKeySsb,0);
}
