{
  int gadgetId=data.getIntExtra(GadgetManager.EXTRA_GADGET_ID,-1);
  GadgetProviderInfo gadget=mGadgetManager.getGadgetInfo(gadgetId);
  if (gadget.configure != null) {
    Intent intent=new Intent(GadgetManager.ACTION_GADGET_CONFIGURE);
    intent.setComponent(gadget.configure);
    intent.putExtra(GadgetManager.EXTRA_GADGET_ID,gadgetId);
    startActivityForResult(intent,REQUEST_CREATE_GADGET);
  }
 else {
    onActivityResult(REQUEST_CREATE_GADGET,Activity.RESULT_OK,data);
  }
}
