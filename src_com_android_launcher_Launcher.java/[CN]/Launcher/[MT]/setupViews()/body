{
  mDragLayer=(DragLayer)findViewById(R.id.drag_layer);
  final DragLayer dragLayer=mDragLayer;
  mWorkspace=(Workspace)dragLayer.findViewById(R.id.workspace);
  final Workspace workspace=mWorkspace;
  mDrawer=(SlidingDrawer)dragLayer.findViewById(R.id.drawer);
  final SlidingDrawer drawer=mDrawer;
  mAllAppsGrid=(AllAppsGridView)drawer.getContent();
  final AllAppsGridView grid=mAllAppsGrid;
  final DeleteZone deleteZone=(DeleteZone)dragLayer.findViewById(R.id.delete_zone);
  final HandleView handleIcon=(HandleView)drawer.findViewById(R.id.all_apps);
  handleIcon.setLauncher(this);
  mHandleIcon=(TransitionDrawable)handleIcon.getDrawable();
  mHandleIcon.setCrossFadeEnabled(true);
  drawer.lock();
  final DrawerManager drawerManager=new DrawerManager();
  drawer.setOnDrawerOpenListener(drawerManager);
  drawer.setOnDrawerCloseListener(drawerManager);
  drawer.setOnDrawerScrollListener(drawerManager);
  grid.setTextFilterEnabled(true);
  grid.setDragger(dragLayer);
  grid.setLauncher(this);
  if (sOpenGlEnabled) {
    grid.setScrollingCacheEnabled(false);
    grid.setFadingEdgeLength(0);
  }
  workspace.setOnLongClickListener(this);
  workspace.setDragger(dragLayer);
  workspace.setLauncher(this);
  loadWallpaper();
  deleteZone.setLauncher(this);
  deleteZone.setDragController(dragLayer);
  deleteZone.setHandle(handleIcon);
  dragLayer.setIgnoredDropTarget(grid);
  dragLayer.setDragScoller(workspace);
  dragLayer.setDragListener(deleteZone);
  if (DEBUG_USER_INTERFACE) {
    android.widget.Button finishButton=new android.widget.Button(this);
    finishButton.setText("Finish");
    workspace.addInScreen(finishButton,1,0,0,1,1);
    finishButton.setOnClickListener(new android.widget.Button.OnClickListener(){
      public void onClick(      View v){
        finish();
      }
    }
);
  }
}
