{
  final SharedPreferences preferences=getSharedPreferences(PREFERENCES,MODE_PRIVATE);
  final Configuration configuration=getResources().getConfiguration();
  final String previousLocale=preferences.getString(KEY_LOCALE,null);
  final String locale=configuration.locale.toString();
  final int previousMcc=preferences.getInt(KEY_MCC,-1);
  final int mcc=configuration.mcc;
  final int previousMnc=preferences.getInt(KEY_MNC,-1);
  final int mnc=configuration.mnc;
  mLocaleChanged=!locale.equals(previousLocale) || mcc != previousMcc || mnc != previousMnc;
  if (mLocaleChanged) {
    final SharedPreferences.Editor editor=preferences.edit();
    editor.putString(KEY_LOCALE,locale);
    editor.putInt(KEY_MCC,mcc);
    editor.putInt(KEY_MNC,mnc);
    editor.commit();
  }
}
