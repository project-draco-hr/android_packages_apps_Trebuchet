{
  final Bundle extras=data.getExtras();
  if (extras != null) {
    Bitmap photo=extras.getParcelable("data");
    Widget info=Widget.makePhotoFrame();
    info.photo=photo;
    final int[] xy=mCellCoordinates;
    if (!findSlot(cellInfo,xy,info.spanX,info.spanY))     return;
    LauncherModel.addItemToDatabase(this,info,Settings.Favorites.CONTAINER_DESKTOP,mWorkspace.getCurrentScreen(),xy[0],xy[1],false);
    if (!mRestoring) {
      sModel.addDesktopItem(info);
      final PhotoFrame view=(PhotoFrame)mInflater.inflate(info.layoutResource,null);
      view.setImageBitmap(photo);
      view.setTag(info);
      mWorkspace.addInCurrentScreen(view,xy[0],xy[1],info.spanX,info.spanY);
    }
 else     if (sModel.isDesktopLoaded()) {
      sModel.addDesktopItem(info);
    }
  }
}
