{
  if (sWallpaper == null) {
    final Drawable drawable=getWallpaper();
    if (drawable instanceof BitmapDrawable) {
      sWallpaper=((BitmapDrawable)drawable).getBitmap();
    }
 else {
      throw new IllegalStateException("The wallpaper must be a BitmapDrawable.");
    }
  }
  mWorkspace.loadWallpaper(sWallpaper);
}
