{
  mWaitingForResult=true;
  final View layout=View.inflate(Launcher.this,R.layout.rename_folder,null);
  mInput=(EditText)layout.findViewById(R.id.folder_name);
  AlertDialog.Builder builder=new AlertDialog.Builder(Launcher.this);
  builder.setIcon(0);
  builder.setTitle(getString(R.string.rename_folder_title));
  builder.setCancelable(true);
  builder.setOnCancelListener(new Dialog.OnCancelListener(){
    public void onCancel(    DialogInterface dialog){
      cleanup();
    }
  }
);
  builder.setNegativeButton(getString(R.string.cancel_action),new Dialog.OnClickListener(){
    public void onClick(    DialogInterface dialog,    int which){
      cleanup();
    }
  }
);
  builder.setPositiveButton(getString(R.string.rename_action),new Dialog.OnClickListener(){
    public void onClick(    DialogInterface dialog,    int which){
      changeFolderName();
    }
  }
);
  builder.setView(layout);
  final AlertDialog dialog=builder.create();
  dialog.setOnShowListener(new DialogInterface.OnShowListener(){
    public void onShow(    DialogInterface dialog){
      mWorkspace.lock();
    }
  }
);
  return dialog;
}
