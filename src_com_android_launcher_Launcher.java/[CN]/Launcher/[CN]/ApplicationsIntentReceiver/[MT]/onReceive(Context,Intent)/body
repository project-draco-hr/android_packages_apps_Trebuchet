{
  final String action=intent.getAction();
  final String packageName=intent.getData().getSchemeSpecificPart();
  final boolean replacing=intent.getBooleanExtra(Intent.EXTRA_REPLACING,false);
  if (LauncherModel.DEBUG_LOADERS) {
    d(LauncherModel.LOG_TAG,"application intent received: " + action + ", replacing="+ replacing);
    d(LauncherModel.LOG_TAG,"  --> " + intent.getData());
  }
  if (!Intent.ACTION_PACKAGE_CHANGED.equals(action)) {
    if (Intent.ACTION_PACKAGE_REMOVED.equals(action)) {
      if (!replacing) {
        removeShortcutsForPackage(packageName);
        if (LauncherModel.DEBUG_LOADERS) {
          d(LauncherModel.LOG_TAG,"  --> remove package");
        }
        sModel.removePackage(Launcher.this,packageName);
      }
    }
 else {
      if (!replacing) {
        if (LauncherModel.DEBUG_LOADERS) {
          d(LauncherModel.LOG_TAG,"  --> add package");
        }
        sModel.addPackage(Launcher.this,packageName);
      }
 else {
        if (LauncherModel.DEBUG_LOADERS) {
          d(LauncherModel.LOG_TAG,"  --> update package " + packageName);
        }
        sModel.updatePackage(Launcher.this,packageName);
        updateShortcutsForPackage(packageName);
      }
    }
    removeDialog(DIALOG_CREATE_SHORTCUT);
  }
 else {
    if (LauncherModel.DEBUG_LOADERS) {
      d(LauncherModel.LOG_TAG,"  --> sync package " + packageName);
    }
    sModel.syncPackage(Launcher.this,packageName);
  }
}
