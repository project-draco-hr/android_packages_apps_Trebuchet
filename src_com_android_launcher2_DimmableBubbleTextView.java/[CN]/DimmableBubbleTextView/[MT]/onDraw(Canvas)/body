{
  if (isDimmedViewUpdatePass) {
    canvas.save();
    final float alpha=getAlpha();
    super.setAlpha(1.0f);
    super.onDraw(canvas);
    super.setAlpha(alpha);
    canvas.restore();
  }
 else {
    super.onDraw(canvas);
  }
  if (mDimmedView != null && mDimmableProgress > 0) {
    mDimmedPaint.setAlpha((int)(mDimmableProgress * 255));
    canvas.drawBitmap(mDimmedView,mScrollX,mScrollY,mDimmedPaint);
  }
}
