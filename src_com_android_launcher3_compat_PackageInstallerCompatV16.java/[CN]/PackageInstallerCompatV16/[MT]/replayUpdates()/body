{
  if (DEBUG)   Log.d(TAG,"updates resumed");
  LauncherAppState app=LauncherAppState.getInstanceNoCreate();
  if (app == null) {
    mReplayPending=true;
    if (DEBUG)     Log.d(TAG,"app is null, delaying send");
    return;
  }
  mReplayPending=false;
  ArrayList<PackageInstallInfo> updates=new ArrayList<PackageInstallInfo>();
  for (  String packageName : mPrefs.getAll().keySet()) {
    final String json=mPrefs.getString(packageName,null);
    if (!TextUtils.isEmpty(json)) {
      updates.add(infoFromJson(packageName,json));
    }
  }
  if (!updates.isEmpty()) {
    sendUpdate(app,updates);
  }
}
