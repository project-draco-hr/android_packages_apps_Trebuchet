{
  if (mFirstLayout && mCurrentPage >= 0 && mCurrentPage < getChildCount()) {
    mUpdateWallpaperOffsetImmediately=true;
  }
  super.onLayout(changed,left,top,right,bottom);
  if (mWaitingToShrink) {
    post(new Runnable(){
      public void run(){
        shrink(mWaitingToShrinkState,false);
        mWaitingToShrink=false;
      }
    }
);
  }
  if (LauncherApplication.isInPlaceRotationEnabled()) {
    setCurrentPage(getCurrentPage());
  }
}
