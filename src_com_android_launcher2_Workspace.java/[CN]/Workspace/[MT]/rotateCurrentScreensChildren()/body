{
  final ArrayList<Folder> openFolders=getOpenFolders();
  WorkspaceOvershootInterpolator wi=new WorkspaceOvershootInterpolator();
  RotateAnimation ra=new RotateAnimation((float)LauncherModel.getPreviousOrientationRelativeToCurrent(),0,Animation.RELATIVE_TO_SELF,0.5f,Animation.RELATIVE_TO_SELF,0.5f);
  ra.setInterpolator(wi);
  CellLayout currentScreen=(CellLayout)getChildAt(mCurrentScreen);
  ra.setStartOffset(150);
  ra.setDuration(650 + (int)(Math.random() * 400) - 200);
  CellLayout.CellLayoutAnimationController animationController=new CellLayout.CellLayoutAnimationController(ra,0.0f);
  currentScreen.setLayoutAnimation(animationController);
  currentScreen.setLayoutAnimationListener(new AnimationListener(){
    public void onAnimationStart(    Animation animation){
    }
    public void onAnimationRepeat(    Animation animation){
    }
    public void onAnimationEnd(    Animation animation){
      for (int j=0; j < openFolders.size(); ++j) {
        Folder folder=openFolders.get(j);
        if (!folder.getInfo().opened) {
          mLauncher.openFolder(folder.getInfo());
        }
      }
    }
  }
);
  animationController.start();
  for (int j=0; j < openFolders.size(); ++j) {
    mLauncher.closeFolder(openFolders.get(j));
  }
}
