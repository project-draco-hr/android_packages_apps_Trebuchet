{
  View v=target.getChildAt(targetCell[0],targetCell[1]);
  boolean hasntMoved=mDragInfo != null && (mDragInfo.cellX == targetCell[0] && mDragInfo.cellY == targetCell[1]);
  if (v == null || hasntMoved || !mCreateUserFolderOnDrop)   return false;
  mCreateUserFolderOnDrop=false;
  final int screen=(targetCell == null) ? mDragInfo.screen : indexOfChild(target);
  boolean aboveShortcut=(v.getTag() instanceof ShortcutInfo);
  boolean willBecomeShortcut=(newView.getTag() instanceof ShortcutInfo);
  if (aboveShortcut && willBecomeShortcut) {
    ShortcutInfo sourceInfo=(ShortcutInfo)newView.getTag();
    ShortcutInfo destInfo=(ShortcutInfo)v.getTag();
    if (!external) {
      int fromScreen=mDragInfo.screen;
      CellLayout sourceLayout=(CellLayout)getChildAt(fromScreen);
      sourceLayout.removeView(newView);
    }
    Rect folderLocation=new Rect();
    mLauncher.getDragLayer().getDescendantRectRelativeToSelf(v,folderLocation);
    target.removeView(v);
    FolderIcon fi=mLauncher.addFolder(screen,targetCell[0],targetCell[1]);
    destInfo.cellX=-1;
    destInfo.cellY=-1;
    sourceInfo.cellX=-1;
    sourceInfo.cellY=-1;
    fi.performCreateAnimation(destInfo,v,sourceInfo,dragView,folderLocation);
    return true;
  }
  return false;
}
