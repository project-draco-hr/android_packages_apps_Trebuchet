{
  DisplayMetrics displayMetrics=new DisplayMetrics();
  mLauncher.getWindowManager().getDefaultDisplay().getRealMetrics(displayMetrics);
  final int maxDim=Math.max(displayMetrics.widthPixels,displayMetrics.heightPixels);
  final int minDim=Math.min(displayMetrics.widthPixels,displayMetrics.heightPixels);
  if (LauncherApplication.isScreenLarge()) {
    mWallpaperWidth=(int)(maxDim * wallpaperTravelToScreenWidthRatio(maxDim,minDim));
    mWallpaperHeight=(int)(maxDim * wallpaperTravelToScreenHeightRatio(maxDim,minDim));
  }
 else {
    mWallpaperWidth=Math.max((int)(minDim * WALLPAPER_SCREENS_SPAN),maxDim);
    mWallpaperHeight=maxDim;
  }
  new Thread("setWallpaperDimension"){
    public void run(){
      mWallpaperManager.suggestDesiredDimensions(mWallpaperWidth,mWallpaperHeight);
    }
  }
.start();
}
