{
  CellLayout cellLayout=getCurrentDropLayout();
  int originX=x - xOffset;
  int originY=y - yOffset;
  if (mIsSmall) {
    final float[] localXY=mTempDragCoordinates;
    localXY[0]=originX;
    localXY[1]=originY;
    final float[] localBottomRightXY=mTempDragBottomRightCoordinates;
    localBottomRightXY[0]=originX + dragView.getDragRegionWidth();
    localBottomRightXY[1]=originY + dragView.getDragRegionHeight();
    cellLayout=findMatchingPageForDragOver(localXY,localBottomRightXY);
    if (cellLayout == null) {
      return;
    }
    originX=(int)localXY[0];
    originY=(int)localXY[1];
  }
  if (source != this) {
    onDropExternal(originX,originY,dragInfo,cellLayout);
  }
 else {
    if (mDragInfo != null) {
      final View cell=mDragInfo.cell;
      int index=mScroller.isFinished() ? mCurrentPage : mNextPage;
      if (index != mDragInfo.screen) {
        final CellLayout originalCellLayout=(CellLayout)getChildAt(mDragInfo.screen);
        originalCellLayout.removeView(cell);
        addInScreen(cell,index,mDragInfo.cellX,mDragInfo.cellY,mDragInfo.spanX,mDragInfo.spanY);
      }
      mTargetCell=estimateDropCell(originX,originY,mDragInfo.spanX,mDragInfo.spanY,cell,cellLayout,mTargetCell);
      cellLayout.onDropChild(cell);
      final ItemInfo info=(ItemInfo)cell.getTag();
      CellLayout.LayoutParams lp=(CellLayout.LayoutParams)cell.getLayoutParams();
      lp.cellX=mTargetCell[0];
      lp.cellY=mTargetCell[1];
      LauncherModel.moveItemInDatabase(mLauncher,info,LauncherSettings.Favorites.CONTAINER_DESKTOP,index,lp.cellX,lp.cellY);
    }
  }
}
