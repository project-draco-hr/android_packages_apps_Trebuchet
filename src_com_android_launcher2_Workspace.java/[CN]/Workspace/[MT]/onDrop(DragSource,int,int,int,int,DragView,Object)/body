{
  CellLayout cellLayout;
  int originX=x - xOffset;
  int originY=y - yOffset;
  if (mIsSmall) {
    cellLayout=findMatchingPageForDragOver(dragView,originX,originY);
    if (cellLayout == null) {
      return;
    }
    mTempOriginXY[0]=originX;
    mTempOriginXY[1]=originY;
    mapPointGlobalToLocal(cellLayout,mTempOriginXY);
    originX=(int)mTempOriginXY[0];
    originY=(int)mTempOriginXY[1];
  }
 else {
    cellLayout=getCurrentDropLayout();
  }
  if (source != this) {
    onDropExternal(originX,originY,dragInfo,cellLayout);
  }
 else {
    if (mDragInfo != null) {
      final View cell=mDragInfo.cell;
      int index=mScroller.isFinished() ? mCurrentPage : mNextPage;
      if (index != mDragInfo.screen) {
        final CellLayout originalCellLayout=(CellLayout)getChildAt(mDragInfo.screen);
        originalCellLayout.removeView(cell);
        addInScreen(cell,index,mDragInfo.cellX,mDragInfo.cellY,mDragInfo.spanX,mDragInfo.spanY);
      }
      mTargetCell=findNearestVacantArea(originX,originY,mDragInfo.spanX,mDragInfo.spanY,cell,cellLayout,mTargetCell);
      cellLayout.onDropChild(cell);
      final ItemInfo info=(ItemInfo)cell.getTag();
      CellLayout.LayoutParams lp=(CellLayout.LayoutParams)cell.getLayoutParams();
      cellLayout.onMove(cell,mTargetCell[0],mTargetCell[1]);
      lp.cellX=mTargetCell[0];
      lp.cellY=mTargetCell[1];
      cell.setId(LauncherModel.getCellLayoutChildId(-1,mDragInfo.screen,mTargetCell[0],mTargetCell[1],mDragInfo.spanX,mDragInfo.spanY));
      LauncherModel.moveItemInDatabase(mLauncher,info,LauncherSettings.Favorites.CONTAINER_DESKTOP,index,lp.cellX,lp.cellY);
    }
  }
}
