{
  Context context=getContext();
  mCurrentPage=mDefaultPage;
  Launcher.setScreen(mCurrentPage);
  LauncherApplication app=(LauncherApplication)context.getApplicationContext();
  mIconCache=app.getIconCache();
  mExternalDragOutlinePaint.setAntiAlias(true);
  setWillNotDraw(false);
  try {
    final Resources res=getResources();
    mBackground=res.getDrawable(R.drawable.all_apps_bg_gradient);
    mCustomizeTrayBackground=res.getDrawable(R.drawable.customize_bg_gradient);
  }
 catch (  Resources.NotFoundException e) {
  }
  mUnshrinkAnimationListener=new AnimatorListenerAdapter(){
    @Override public void onAnimationStart(    Animator animation){
      mIsInUnshrinkAnimation=true;
      disableCacheUpdates();
    }
    @Override public void onAnimationEnd(    Animator animation){
      mIsInUnshrinkAnimation=false;
      mSyncWallpaperOffsetWithScroll=true;
      if (mShrinkState == ShrinkState.SPRING_LOADED) {
        View layout=null;
        if (mLastDragView != null) {
          layout=findMatchingPageForDragOver(mLastDragView,mLastDragOriginX,mLastDragOriginY,mLastDragXOffset,mLastDragYOffset);
        }
        mSpringLoadedDragController.onEnterSpringLoadedMode(layout == null);
      }
 else {
        mDrawCustomizeTrayBackground=false;
      }
      mWallpaperOffset.setOverrideHorizontalCatchupConstant(false);
      enableCacheUpdates();
      mAnimator=null;
    }
  }
;
  mShrinkAnimationListener=new AnimatorListenerAdapter(){
    @Override public void onAnimationStart(    Animator animation){
      disableCacheUpdates();
    }
    @Override public void onAnimationEnd(    Animator animation){
      mWallpaperOffset.setOverrideHorizontalCatchupConstant(false);
      enableCacheUpdates();
      mAnimator=null;
    }
  }
;
  mSnapVelocity=600;
  mWallpaperOffset=new WallpaperOffsetInterpolator();
}
