{
  if (d.dragSource != this) {
    if (mDragTargetLayout == null) {
      return false;
    }
    mDragViewVisualCenter=getDragViewVisualCenter(d.x,d.y,d.xOffset,d.yOffset,d.dragView,mDragViewVisualCenter);
    int spanX=1;
    int spanY=1;
    View ignoreView=null;
    if (mDragInfo != null) {
      final CellLayout.CellInfo dragCellInfo=mDragInfo;
      spanX=dragCellInfo.spanX;
      spanY=dragCellInfo.spanY;
      ignoreView=dragCellInfo.cell;
    }
 else {
      final ItemInfo dragInfo=(ItemInfo)d.dragInfo;
      spanX=dragInfo.spanX;
      spanY=dragInfo.spanY;
    }
    mTargetCell=findNearestArea((int)mDragViewVisualCenter[0],(int)mDragViewVisualCenter[1],spanX,spanY,mDragTargetLayout,mTargetCell);
    if (willCreateUserFolder((ItemInfo)d.dragInfo,mDragTargetLayout,mTargetCell,true)) {
      return true;
    }
    if (willAddToExistingUserFolder((ItemInfo)d.dragInfo,mDragTargetLayout,mTargetCell)) {
      return true;
    }
    if (!mDragTargetLayout.findCellForSpanIgnoring(null,spanX,spanY,ignoreView)) {
      mLauncher.showOutOfSpaceMessage();
      return false;
    }
  }
  return true;
}
