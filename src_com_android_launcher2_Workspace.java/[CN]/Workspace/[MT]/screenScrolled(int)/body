{
  final int halfScreenSize=getMeasuredWidth() / 2;
  for (int i=0; i < getChildCount(); i++) {
    View v=getChildAt(i);
    if (v != null) {
      int totalDistance=v.getMeasuredWidth() + mPageSpacing;
      int delta=screenCenter - (getChildOffset(i) - getRelativeChildOffset(i) + halfScreenSize);
      float scrollProgress=delta / (totalDistance * 1.0f);
      scrollProgress=Math.min(scrollProgress,1.0f);
      scrollProgress=Math.max(scrollProgress,-1.0f);
      float rotation=WORKSPACE_ROTATION * scrollProgress;
      v.setRotationY(rotation);
    }
  }
}
