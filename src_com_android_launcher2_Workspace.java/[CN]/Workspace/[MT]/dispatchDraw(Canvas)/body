{
  boolean restore=false;
  int restoreCount=0;
  int alpha=mAlpha;
  if (alpha < 255) {
    int sx=mScrollX;
    restoreCount=canvas.saveLayerAlpha(sx,0,sx + getWidth(),getHeight(),alpha,Canvas.HAS_ALPHA_LAYER_SAVE_FLAG | Canvas.CLIP_TO_LAYER_SAVE_FLAG);
    restore=true;
  }
  boolean fastDraw=mTouchState != TOUCH_STATE_SCROLLING && mNextScreen == INVALID_SCREEN;
  if (fastDraw) {
    drawChild(canvas,getChildAt(mCurrentScreen),getDrawingTime());
  }
 else {
    final long drawingTime=getDrawingTime();
    if (mNextScreen >= 0 && mNextScreen < getChildCount() && Math.abs(mCurrentScreen - mNextScreen) == 1) {
      drawChild(canvas,getChildAt(mCurrentScreen),drawingTime);
      drawChild(canvas,getChildAt(mNextScreen),drawingTime);
    }
 else {
      final int count=getChildCount();
      for (int i=0; i < count; i++) {
        drawChild(canvas,getChildAt(i),drawingTime);
      }
    }
  }
  if (restore) {
    canvas.restoreToCount(restoreCount);
  }
}
