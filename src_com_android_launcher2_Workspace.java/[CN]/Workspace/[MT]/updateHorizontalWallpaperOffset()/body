{
  if (LauncherApplication.isScreenXLarge()) {
    Display display=mLauncher.getWindowManager().getDefaultDisplay();
    int wallpaperTravelWidth=(int)(display.getWidth() * wallpaperTravelToScreenWidthRatio(display.getWidth(),display.getHeight()));
    int overscrollOffset=(int)(maxOverScroll() * display.getWidth());
    float overscrollRatio=overscrollOffset / (float)getScrollRange();
    int scrollRangeWithOverscroll=getScrollRange() + 2 * overscrollOffset;
    mWallpaperManager.setWallpaperOffsetSteps(1.0f / (getChildCount() - 1),1.0f / (3 - 1));
    float scrollProgress=mScrollX / (float)scrollRangeWithOverscroll + overscrollRatio;
    float offsetInDips=wallpaperTravelWidth * scrollProgress + (mWallpaperWidth - wallpaperTravelWidth) / 2;
    float offset=offsetInDips / (float)mWallpaperWidth;
    mTargetHorizontalWallpaperOffset=Math.max(0f,Math.min(offset,1.0f));
    mWallpaperOffsetDirty=true;
  }
}
