{
  final String key=componentName.flattenToShortString();
  if (DEBUG)   Log.v(TAG,"looking for pre-load icon for " + key);
  Bitmap icon=null;
  FileInputStream resourceFile=null;
  try {
    resourceFile=mContext.openFileInput(getResourceFilename(componentName));
    byte[] buffer=new byte[1024];
    ByteArrayOutputStream bytes=new ByteArrayOutputStream();
    int bytesRead=0;
    while (bytesRead >= 0) {
      bytes.write(buffer,0,bytesRead);
      bytesRead=resourceFile.read(buffer,0,buffer.length);
    }
    if (DEBUG)     Log.d(TAG,"read " + bytes.size());
    icon=BitmapFactory.decodeByteArray(bytes.toByteArray(),0,bytes.size());
    if (icon == null) {
      Log.w(TAG,"failed to decode pre-load icon for " + key);
    }
  }
 catch (  FileNotFoundException e) {
    if (DEBUG)     Log.d(TAG,"there is no restored icon for: " + key,e);
  }
catch (  IOException e) {
    Log.w(TAG,"failed to read pre-load icon for: " + key,e);
  }
 finally {
    if (resourceFile != null) {
      try {
        resourceFile.close();
      }
 catch (      IOException e) {
        Log.d(TAG,"failed to manage pre-load icon file: " + key,e);
      }
    }
  }
  if (icon != null) {
    Bitmap b=Bitmap.createBitmap(Math.max(icon.getWidth(),1),Math.max(icon.getHeight(),1),Bitmap.Config.ARGB_8888);
    Canvas c=new Canvas(b);
    Paint paint=new Paint();
    paint.setAlpha(127);
    c.drawBitmap(icon,0,0,paint);
    c.setBitmap(null);
    icon.recycle();
    icon=b;
  }
  return icon;
}
