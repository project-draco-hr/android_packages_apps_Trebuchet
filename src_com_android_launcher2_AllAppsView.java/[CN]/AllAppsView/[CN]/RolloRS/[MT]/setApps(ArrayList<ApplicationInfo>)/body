{
  final int count=list != null ? list.size() : 0;
  mIcons=new Allocation[count];
  mAllocIconIDBuf=new int[count];
  mAllocIconID=Allocation.createSized(mRS,Element.USER_I32,count);
  mLabels=new Allocation[count];
  mAllocLabelIDBuf=new int[count];
  mAllocLabelID=Allocation.createSized(mRS,Element.USER_I32,count);
  Element ie8888=Element.RGBA_8888;
  Utilities.BubbleText bubble=new Utilities.BubbleText(getContext());
  for (int i=0; i < count; i++) {
    final ApplicationInfo item=list.get(i);
    mIcons[i]=Allocation.createFromBitmap(mRS,item.iconBitmap,Element.RGBA_8888,true);
    mLabels[i]=Allocation.createFromBitmap(mRS,item.titleBitmap,Element.RGBA_8888,true);
    mIcons[i].uploadToTexture(0);
    mLabels[i].uploadToTexture(0);
    mAllocIconIDBuf[i]=mIcons[i].getID();
    mAllocLabelIDBuf[i]=mLabels[i].getID();
  }
  mAllocIconID.data(mAllocIconIDBuf);
  mAllocLabelID.data(mAllocLabelIDBuf);
  mState.iconCount=count;
  Log.d("AllAppsView","mScript=" + mScript + " mAllocIconID="+ mAllocIconID);
  if (mScript != null) {
    mScript.bindAllocation(mAllocIconID,Defines.ALLOC_ICON_IDS);
    mScript.bindAllocation(mAllocLabelID,Defines.ALLOC_LABEL_IDS);
  }
  mState.save();
}
