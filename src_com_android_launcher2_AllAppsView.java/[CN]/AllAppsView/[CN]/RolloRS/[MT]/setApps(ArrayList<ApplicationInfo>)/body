{
  final int count=list != null ? list.size() : 0;
  int allocCount=count;
  if (allocCount < 1) {
    allocCount=1;
  }
  mIcons=new Allocation[count];
  mIconIds=new int[allocCount];
  mAllocIconID=Allocation.createSized(mRS,Element.USER_I32(mRS),allocCount);
  mLabels=new Allocation[count];
  mLabelIds=new int[allocCount];
  mAllocLabelID=Allocation.createSized(mRS,Element.USER_I32(mRS),allocCount);
  Element ie8888=Element.RGBA_8888(mRS);
  Utilities.BubbleText bubble=new Utilities.BubbleText(getContext());
  for (int i=0; i < count; i++) {
    final ApplicationInfo item=list.get(i);
    mIcons[i]=Allocation.createFromBitmap(mRS,item.iconBitmap,Element.RGBA_8888(mRS),false);
    mLabels[i]=Allocation.createFromBitmap(mRS,item.titleBitmap,Element.RGBA_8888(mRS),false);
    mIcons[i].uploadToTexture(0);
    mLabels[i].uploadToTexture(0);
    mIconIds[i]=mIcons[i].getID();
    mLabelIds[i]=mLabels[i].getID();
  }
  mAllocIconID.data(mIconIds);
  mAllocLabelID.data(mLabelIds);
  mState.iconCount=count;
  if (mScript != null) {
    mScript.bindAllocation(mAllocIconID,Defines.ALLOC_ICON_IDS);
    mScript.bindAllocation(mAllocLabelID,Defines.ALLOC_LABEL_IDS);
  }
  mState.save();
}
