{
  if (success) {
    if (mDeleteFolderOnDropCompleted && !mItemAddedBackToSelfViaIcon) {
      replaceFolderWithFinalItem();
    }
  }
 else {
    mFolderIcon.onDrop(d);
    if (mOnExitAlarm.alarmPending()) {
      mSuppressFolderDeletion=true;
    }
  }
  if (target != this) {
    if (mOnExitAlarm.alarmPending()) {
      mOnExitAlarm.cancelAlarm();
      completeDragExit();
    }
  }
  mDeleteFolderOnDropCompleted=false;
  mDragInProgress=false;
  mItemAddedBackToSelfViaIcon=false;
  mCurrentDragInfo=null;
  mCurrentDragView=null;
  mSuppressOnAdd=false;
}
