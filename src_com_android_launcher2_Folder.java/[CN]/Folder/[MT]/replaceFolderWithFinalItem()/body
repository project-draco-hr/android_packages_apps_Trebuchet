{
  ItemInfo finalItem=null;
  mDestroyed=true;
  if (getItemCount() == 1) {
    finalItem=mInfo.contents.get(0);
  }
  CellLayout cellLayout=mLauncher.getCellLayout(mInfo.container,mInfo.screen);
  cellLayout.removeView(mFolderIcon);
  if (mFolderIcon instanceof DropTarget) {
    mDragController.removeDropTarget((DropTarget)mFolderIcon);
  }
  mLauncher.removeFolder(mInfo);
  if (finalItem != null) {
    LauncherModel.addOrMoveItemInDatabase(mLauncher,finalItem,mInfo.container,mInfo.screen,mInfo.cellX,mInfo.cellY);
  }
  LauncherModel.deleteItemFromDatabase(mLauncher,mInfo);
  if (finalItem != null) {
    View child=mLauncher.createShortcut(R.layout.application,cellLayout,(ShortcutInfo)finalItem);
    mLauncher.getWorkspace().addInScreen(child,mInfo.container,mInfo.screen,mInfo.cellX,mInfo.cellY,mInfo.spanX,mInfo.spanY);
  }
}
