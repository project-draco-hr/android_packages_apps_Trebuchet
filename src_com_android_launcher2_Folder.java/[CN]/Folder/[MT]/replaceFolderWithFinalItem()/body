{
  Runnable onCompleteRunnable=new Runnable(){
    @Override public void run(){
      CellLayout cellLayout=mLauncher.getCellLayout(mInfo.container,mInfo.screen);
      if (getItemCount() == 1) {
        ShortcutInfo finalItem=mInfo.contents.get(0);
        final View child=mLauncher.createShortcut(R.layout.application,cellLayout,finalItem);
        LauncherModel.addOrMoveItemInDatabase(mLauncher,finalItem,mInfo.container,mInfo.screen,mInfo.cellX,mInfo.cellY);
        mLauncher.getWorkspace().addInScreen(child,mInfo.container,mInfo.screen,mInfo.cellX,mInfo.cellY,mInfo.spanX,mInfo.spanY);
      }
      if (getItemCount() <= 1) {
        LauncherModel.deleteItemFromDatabase(mLauncher,mInfo);
        cellLayout.removeView(mFolderIcon);
        if (mFolderIcon instanceof DropTarget) {
          mDragController.removeDropTarget((DropTarget)mFolderIcon);
        }
        mLauncher.removeFolder(mInfo);
      }
    }
  }
;
  View finalChild=getItemAt(0);
  if (finalChild != null) {
    mFolderIcon.performDestroyAnimation(finalChild,onCompleteRunnable);
  }
  mDestroyed=true;
}
