{
  if (cling != null && cling.getVisibility() != View.GONE) {
    final Runnable cleanUpClingCb=new Runnable(){
      public void run(){
        cling.cleanup();
        SharedPreferences.Editor editor=mLauncher.getSharedPrefs().edit();
        editor.putBoolean(flag,true);
        editor.apply();
        if (postAnimationCb != null) {
          postAnimationCb.run();
        }
      }
    }
;
    if (duration <= 0) {
      cleanUpClingCb.run();
    }
 else {
      cling.hide(duration,cleanUpClingCb);
    }
    mHideFromAccessibilityHelper.restoreImportantForAccessibility(mLauncher.getDragLayer());
    if (restoreNavBarVisibilty) {
      cling.setSystemUiVisibility(cling.getSystemUiVisibility() & ~View.SYSTEM_UI_FLAG_LOW_PROFILE);
    }
  }
}
