{
  final boolean isRtl=isLayoutRtl();
  final int pageCount=getChildCount();
  if (pageCount > 0) {
    final int screenWidth=getMeasuredWidth();
    int leftScreen=isRtl ? pageCount - 1 : 0;
    int rightScreen=0;
    int endIndex=isRtl ? 0 : pageCount - 1;
    int delta=isRtl ? -1 : 1;
    View currPage=getPageAt(leftScreen);
    while (leftScreen != endIndex && currPage.getX() + currPage.getWidth() - currPage.getPaddingRight() < getScrollX()) {
      leftScreen+=delta;
      currPage=getPageAt(leftScreen);
    }
    rightScreen=leftScreen;
    currPage=getPageAt(rightScreen + delta);
    while (rightScreen != endIndex && currPage.getX() - currPage.getPaddingLeft() < getScrollX() + screenWidth) {
      rightScreen+=delta;
      currPage=getPageAt(rightScreen + delta);
    }
    range[0]=Math.min(leftScreen,rightScreen);
    range[1]=Math.max(leftScreen,rightScreen);
  }
 else {
    range[0]=-1;
    range[1]=-1;
  }
}
