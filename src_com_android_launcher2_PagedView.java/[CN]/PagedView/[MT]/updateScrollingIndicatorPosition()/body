{
  if (!isScrollingIndicatorEnabled())   return;
  if (mScrollIndicator == null)   return;
  int numPages=getChildCount();
  int pageWidth=getMeasuredWidth();
  int maxPageWidth=(numPages * getChildWidth(0)) + ((numPages - 1) * mPageSpacing);
  int trackWidth=pageWidth - mScrollIndicatorPaddingLeft - mScrollIndicatorPaddingRight;
  int indicatorWidth=mScrollIndicator.getMeasuredWidth() - mScrollIndicator.getPaddingLeft() - mScrollIndicator.getPaddingRight();
  float offset=(float)getScrollX() / maxPageWidth;
  int indicatorSpace=trackWidth / numPages;
  int indicatorPos=(int)(offset * trackWidth) + mScrollIndicatorPaddingLeft;
  if (hasElasticScrollIndicator()) {
    if (mScrollIndicator.getMeasuredWidth() != indicatorSpace) {
      mScrollIndicator.getLayoutParams().width=indicatorSpace;
      mScrollIndicator.requestLayout();
    }
  }
 else {
    int indicatorCenterOffset=indicatorSpace / 2 - indicatorWidth / 2;
    indicatorPos+=indicatorCenterOffset;
  }
  mScrollIndicator.setTranslationX(indicatorPos);
  mScrollIndicator.invalidate();
}
