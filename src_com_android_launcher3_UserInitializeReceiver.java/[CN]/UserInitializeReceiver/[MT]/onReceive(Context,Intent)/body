{
  final Resources resources=context.getResources();
  final String packageName=resources.getResourcePackageName(R.array.wallpapers);
  ArrayList<Integer> list=new ArrayList<Integer>();
  addWallpapers(resources,packageName,R.array.wallpapers,list);
  addWallpapers(resources,packageName,R.array.extra_wallpapers,list);
  WallpaperManager wpm=(WallpaperManager)context.getSystemService(Context.WALLPAPER_SERVICE);
  for (int i=1; i < list.size(); i++) {
    int resid=list.get(i);
    if (!wpm.hasResourceWallpaper(resid)) {
      try {
        wpm.setResource(resid);
      }
 catch (      IOException e) {
      }
      return;
    }
  }
}
