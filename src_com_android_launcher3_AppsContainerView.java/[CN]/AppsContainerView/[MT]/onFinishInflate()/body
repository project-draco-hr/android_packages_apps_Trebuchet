{
  boolean isRtl=(getResources().getConfiguration().getLayoutDirection() == LAYOUT_DIRECTION_RTL);
  mAdapter.setRtl(isRtl);
  mContentView=(FrameLayout)findViewById(R.id.apps_list);
  mContentView.setOnFocusChangeListener(new View.OnFocusChangeListener(){
    @Override public void onFocusChange(    View v,    boolean hasFocus){
      if (v == mContentView && hasFocus) {
        mAppsRecyclerView.requestFocus();
      }
    }
  }
);
  mHeaderView=findViewById(R.id.header);
  mHeaderView.setOnClickListener(this);
  if (Utilities.isLmpOrAbove() && !DYNAMIC_HEADER_ELEVATION) {
    mHeaderView.setElevation(DynamicGrid.pxFromDp(HEADER_ELEVATION_DP,getContext().getResources().getDisplayMetrics()));
  }
  mPredictionBarView=(ViewGroup)findViewById(R.id.prediction_bar);
  FrameLayout.LayoutParams lp=(FrameLayout.LayoutParams)mPredictionBarView.getLayoutParams();
  lp.height=mPredictionBarHeight;
  mSearchButtonView=mHeaderView.findViewById(R.id.search_button);
  mSearchBarContainerView=findViewById(R.id.app_search_container);
  mDismissSearchButtonView=mSearchBarContainerView.findViewById(R.id.dismiss_search_button);
  mDismissSearchButtonView.setOnClickListener(this);
  mSearchBarEditView=(AppsContainerSearchEditTextView)findViewById(R.id.app_search_box);
  if (mSearchBarEditView != null) {
    mSearchBarEditView.addTextChangedListener(this);
    mSearchBarEditView.setOnEditorActionListener(this);
    if (DISMISS_SEARCH_ON_BACK) {
      mSearchBarEditView.setOnBackKeyListener(new AppsContainerSearchEditTextView.OnBackKeyListener(){
        @Override public void onBackKey(){
          String query=Utilities.trim(mSearchBarEditView.getEditableText().toString());
          if (query.isEmpty() || mApps.hasNoFilteredResults()) {
            hideSearchField(true,true);
          }
        }
      }
);
    }
  }
  mAppsRecyclerView=(AppsContainerRecyclerView)findViewById(R.id.apps_list_view);
  mAppsRecyclerView.setApps(mApps);
  mAppsRecyclerView.setNumAppsPerRow(mNumAppsPerRow,mNumPredictedAppsPerRow);
  mAppsRecyclerView.setPredictionBarHeight(mPredictionBarHeight);
  mAppsRecyclerView.setLayoutManager(mLayoutManager);
  mAppsRecyclerView.setAdapter(mAdapter);
  mAppsRecyclerView.setHasFixedSize(true);
  mAppsRecyclerView.setOnScrollListenerProxy(new BaseContainerRecyclerView.OnScrollToListener(){
    @Override public void onScrolledTo(    int x,    int y){
      mRecyclerViewScrollY=y;
      onRecyclerViewScrolled();
    }
  }
);
  if (mItemDecoration != null) {
    mAppsRecyclerView.addItemDecoration(mItemDecoration);
  }
  onUpdateBackgrounds();
  onUpdatePaddings();
}
