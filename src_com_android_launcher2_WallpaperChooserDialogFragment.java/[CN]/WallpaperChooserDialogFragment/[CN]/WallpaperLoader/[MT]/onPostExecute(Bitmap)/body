{
  if (b == null)   return;
  if (!isCancelled() && !mOptions.mCancel) {
    if (mBitmap != null) {
      mBitmap.recycle();
    }
    View v=getView();
    if (v != null) {
      mBitmap=b;
      mWallpaperDrawable.setBitmap(b);
      v.postInvalidate();
    }
 else {
      mBitmap=null;
      mWallpaperDrawable.setBitmap(null);
    }
    mLoader=null;
  }
 else {
    b.recycle();
  }
}
