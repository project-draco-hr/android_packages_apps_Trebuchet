{
  if (isBuildingCache()) {
    this.setShadowLayer(SHADOW_LARGE_RADIUS,0.0f,SHADOW_Y_OFFSET,SHADOW_LARGE_COLOUR);
    super.draw(canvas);
    this.setShadowLayer(SHADOW_SMALL_RADIUS,0.0f,0.0f,SHADOW_SMALL_COLOUR);
    super.draw(canvas);
  }
 else {
    final Drawable background=mBackground;
    if (background != null) {
      final int scrollX=mScrollX;
      final int scrollY=mScrollY;
      if (mBackgroundSizeChanged) {
        background.setBounds(0,0,mRight - mLeft,mBottom - mTop);
        mBackgroundSizeChanged=false;
      }
      if ((scrollX | scrollY) == 0) {
        background.draw(canvas);
      }
 else {
        canvas.translate(scrollX,scrollY);
        background.draw(canvas);
        canvas.translate(-scrollX,-scrollY);
      }
    }
    super.draw(canvas);
  }
}
