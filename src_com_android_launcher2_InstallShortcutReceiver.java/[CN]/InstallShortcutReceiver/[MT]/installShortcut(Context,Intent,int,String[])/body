{
  String name=data.getStringExtra(Intent.EXTRA_SHORTCUT_NAME);
  if (findEmptyCell(context,mCoordinates,screen)) {
    Intent intent=data.getParcelableExtra(Intent.EXTRA_SHORTCUT_INTENT);
    if (intent != null) {
      if (intent.getAction() == null) {
        intent.setAction(Intent.ACTION_VIEW);
      }
      boolean duplicate=data.getBooleanExtra(Launcher.EXTRA_SHORTCUT_DUPLICATE,true);
      if (duplicate || !LauncherModel.shortcutExists(context,name,intent)) {
        LauncherApplication app=(LauncherApplication)context.getApplicationContext();
        ShortcutInfo info=app.getModel().addShortcut(context,data,LauncherSettings.Favorites.CONTAINER_DESKTOP,screen,mCoordinates[0],mCoordinates[1],true);
        if (info != null) {
          errorMsgs[0]=context.getString(R.string.shortcut_installed,name);
        }
 else {
          return false;
        }
      }
 else {
        errorMsgs[0]=context.getString(R.string.shortcut_duplicate,name);
      }
      return true;
    }
  }
 else {
    errorMsgs[0]=context.getString(R.string.out_of_space);
  }
  return false;
}
