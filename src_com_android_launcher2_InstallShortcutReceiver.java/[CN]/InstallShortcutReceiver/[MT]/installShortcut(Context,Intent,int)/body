{
  String name=data.getStringExtra(Intent.EXTRA_SHORTCUT_NAME);
  if (findEmptyCell(context,mCoordinates,screen)) {
    CellLayout.CellInfo cell=new CellLayout.CellInfo();
    cell.cellX=mCoordinates[0];
    cell.cellY=mCoordinates[1];
    cell.screen=screen;
    Intent intent=data.getParcelableExtra(Intent.EXTRA_SHORTCUT_INTENT);
    if (intent.getAction() == null) {
      intent.setAction(Intent.ACTION_VIEW);
    }
    boolean duplicate=data.getBooleanExtra(Launcher.EXTRA_SHORTCUT_DUPLICATE,true);
    if (duplicate || !LauncherModel.shortcutExists(context,name,intent)) {
      ((LauncherApplication)context.getApplicationContext()).getModel().addShortcut(context,data,cell,true);
      Toast.makeText(context,context.getString(R.string.shortcut_installed,name),Toast.LENGTH_SHORT).show();
    }
 else {
      Toast.makeText(context,context.getString(R.string.shortcut_duplicate,name),Toast.LENGTH_SHORT).show();
    }
    return true;
  }
 else {
    Toast.makeText(context,context.getString(R.string.out_of_space),Toast.LENGTH_SHORT).show();
  }
  return false;
}
