{
  String name=data.getStringExtra(Intent.EXTRA_SHORTCUT_NAME);
  if (findEmptyCell(context,mCoordinates,screen)) {
    Intent intent=data.getParcelableExtra(Intent.EXTRA_SHORTCUT_INTENT);
    if (intent != null) {
      if (intent.getAction() == null) {
        intent.setAction(Intent.ACTION_VIEW);
      }
      boolean duplicate=data.getBooleanExtra(Launcher.EXTRA_SHORTCUT_DUPLICATE,true);
      if (duplicate || !LauncherModel.shortcutExists(context,name,intent)) {
        LauncherApplication app=(LauncherApplication)context.getApplicationContext();
        ShortcutInfo info=app.getModel().addShortcut(context,data,LauncherSettings.Favorites.CONTAINER_DESKTOP,screen,mCoordinates[0],mCoordinates[1],true);
        if (info != null) {
          Toast.makeText(context,context.getString(R.string.shortcut_installed,name),Toast.LENGTH_SHORT).show();
        }
 else {
          return false;
        }
      }
 else {
        Toast.makeText(context,context.getString(R.string.shortcut_duplicate,name),Toast.LENGTH_SHORT).show();
      }
      return true;
    }
  }
 else {
    Toast.makeText(context,context.getString(R.string.out_of_space),Toast.LENGTH_SHORT).show();
  }
  return false;
}
