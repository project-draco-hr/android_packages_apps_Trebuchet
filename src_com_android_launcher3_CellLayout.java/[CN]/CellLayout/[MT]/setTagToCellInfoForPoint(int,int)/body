{
  final CellInfo cellInfo=mCellInfo;
  Rect frame=mRect;
  final int x=touchX + getScrollX();
  final int y=touchY + getScrollY();
  final int count=mShortcutsAndWidgets.getChildCount();
  boolean found=false;
  for (int i=count - 1; i >= 0; i--) {
    final View child=mShortcutsAndWidgets.getChildAt(i);
    final LayoutParams lp=(LayoutParams)child.getLayoutParams();
    if ((child.getVisibility() == VISIBLE || child.getAnimation() != null) && lp.isLockedToGrid) {
      child.getHitRect(frame);
      float scale=child.getScaleX();
      frame=new Rect(child.getLeft(),child.getTop(),child.getRight(),child.getBottom());
      frame.offset(getPaddingLeft(),getPaddingTop());
      frame.inset((int)(frame.width() * (1f - scale) / 2),(int)(frame.height() * (1f - scale) / 2));
      if (frame.contains(x,y)) {
        cellInfo.cell=child;
        cellInfo.cellX=lp.cellX;
        cellInfo.cellY=lp.cellY;
        cellInfo.spanX=lp.cellHSpan;
        cellInfo.spanY=lp.cellVSpan;
        found=true;
        break;
      }
    }
  }
  mLastDownOnOccupiedCell=found;
  if (!found) {
    final int cellXY[]=mTmpXY;
    pointToCellExact(x,y,cellXY);
    cellInfo.cell=null;
    cellInfo.cellX=cellXY[0];
    cellInfo.cellY=cellXY[1];
    cellInfo.spanX=1;
    cellInfo.spanY=1;
  }
  setTag(cellInfo);
}
