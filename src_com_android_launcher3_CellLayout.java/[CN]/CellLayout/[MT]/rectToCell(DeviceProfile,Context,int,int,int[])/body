{
  Rect padding=grid.getWorkspacePadding(Utilities.isRtl(context.getResources()));
  int parentWidth=DeviceProfile.calculateCellWidth(grid.widthPx - padding.left - padding.right,(int)grid.inv.numColumns);
  int parentHeight=DeviceProfile.calculateCellHeight(grid.heightPx - padding.top - padding.bottom,(int)grid.inv.numRows);
  int smallerSize=Math.min(parentWidth,parentHeight);
  int spanX=(int)Math.ceil(width / (float)smallerSize);
  int spanY=(int)Math.ceil(height / (float)smallerSize);
  if (result == null) {
    return new int[]{spanX,spanY};
  }
  result[0]=spanX;
  result[1]=spanY;
  return result;
}
