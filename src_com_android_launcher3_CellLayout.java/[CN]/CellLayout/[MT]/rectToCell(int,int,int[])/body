{
  LauncherAppState app=LauncherAppState.getInstance();
  DeviceProfile grid=app.getDynamicGrid().getDeviceProfile();
  Rect padding=grid.getWorkspacePadding(grid.isLandscape ? CellLayout.LANDSCAPE : CellLayout.PORTRAIT);
  int parentWidth=grid.calculateCellWidth(grid.widthPx - padding.left - padding.right,(int)grid.numColumns);
  int parentHeight=grid.calculateCellHeight(grid.heightPx - padding.top - padding.bottom,(int)grid.numRows);
  int smallerSize=Math.min(parentWidth,parentHeight);
  int spanX=(int)Math.ceil(width / (float)smallerSize);
  int spanY=(int)Math.ceil(height / (float)smallerSize);
  if (result == null) {
    return new int[]{spanX,spanY};
  }
  result[0]=spanX;
  result[1]=spanY;
  return result;
}
