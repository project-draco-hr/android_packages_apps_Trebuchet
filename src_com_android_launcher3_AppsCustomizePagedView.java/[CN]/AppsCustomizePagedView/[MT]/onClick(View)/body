{
  if (!mLauncher.isAllAppsVisible() || mLauncher.getWorkspace().isSwitchingState())   return;
  if (v instanceof PagedViewIcon) {
    final AppInfo appInfo=(AppInfo)v.getTag();
    if (mPressedIcon != null) {
      mPressedIcon.lockDrawableState();
    }
    mLauncher.startActivitySafely(v,appInfo.intent,appInfo);
    mLauncher.getStats().recordLaunch(appInfo.intent);
  }
 else   if (v instanceof PagedViewWidget) {
    if (mWidgetInstructionToast != null) {
      mWidgetInstructionToast.cancel();
    }
    mWidgetInstructionToast=Toast.makeText(getContext(),R.string.long_press_widget_to_add,Toast.LENGTH_SHORT);
    mWidgetInstructionToast.show();
    float offsetY=getResources().getDimensionPixelSize(R.dimen.dragViewOffsetY);
    final ImageView p=(ImageView)v.findViewById(R.id.widget_preview);
    AnimatorSet bounce=LauncherAnimUtils.createAnimatorSet();
    ValueAnimator tyuAnim=LauncherAnimUtils.ofFloat(p,"translationY",offsetY);
    tyuAnim.setDuration(125);
    ValueAnimator tydAnim=LauncherAnimUtils.ofFloat(p,"translationY",0f);
    tydAnim.setDuration(100);
    bounce.play(tyuAnim).before(tydAnim);
    bounce.setInterpolator(new AccelerateInterpolator());
    bounce.start();
  }
}
