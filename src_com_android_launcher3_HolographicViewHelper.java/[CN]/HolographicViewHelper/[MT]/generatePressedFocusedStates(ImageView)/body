{
  if (!mStatesUpdated && v != null) {
    mStatesUpdated=true;
    Bitmap original=createOriginalImage(v,mTempCanvas);
    Bitmap outline=createImageWithOverlay(v,mTempCanvas,mHighlightColor);
    Bitmap hotword=createImageWithOverlay(v,mTempCanvas,mHotwordColor);
    FastBitmapDrawable originalD=new FastBitmapDrawable(original);
    FastBitmapDrawable outlineD=new FastBitmapDrawable(outline);
    FastBitmapDrawable hotwordD=new FastBitmapDrawable(hotword);
    StateListDrawable states=new StateListDrawable();
    states.addState(new int[]{android.R.attr.state_pressed},outlineD);
    states.addState(new int[]{android.R.attr.state_focused},outlineD);
    states.addState(new int[]{R.attr.stateHotwordOn},hotwordD);
    states.addState(new int[]{},originalD);
    v.setImageDrawable(states);
  }
}
