{
  Drawable icon=null;
  byte[] data=null;
  if (holder.iconBitmapIndex != -1) {
    data=cursor.getBlob(holder.iconBitmapIndex);
  }
  if (data != null) {
    final SoftReference<Drawable> reference=mCustomIcons.get(holder.id);
    if (reference != null) {
      icon=reference.get();
    }
    if (icon == null) {
      final Bitmap bitmap=BitmapFactory.decodeByteArray(data,0,data.length);
      final Bitmap resampled=Utilities.resampleIconBitmap(bitmap,mContext);
      if (bitmap != resampled) {
        bitmap.recycle();
      }
      icon=new FastBitmapDrawable(resampled);
      mCustomIcons.put(holder.id,new SoftReference<Drawable>(icon));
    }
  }
 else   if (holder.iconResourceIndex != -1 && holder.iconPackageIndex != -1) {
    final String resource=cursor.getString(holder.iconResourceIndex);
    icon=mIcons.get(resource);
    if (icon == null) {
      try {
        final PackageManager packageManager=context.getPackageManager();
        Resources resources=packageManager.getResourcesForApplication(cursor.getString(holder.iconPackageIndex));
        final int id=resources.getIdentifier(resource,null,null);
        icon=new FastBitmapDrawable(Utilities.createIconBitmap(resources.getDrawable(id),mContext));
        mIcons.put(resource,icon);
      }
 catch (      Exception e) {
      }
    }
  }
  return icon;
}
