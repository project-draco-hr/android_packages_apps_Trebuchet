{
  isLandscape=(resources.getConfiguration().orientation == Configuration.ORIENTATION_LANDSCAPE);
  isTablet=resources.getBoolean(R.bool.is_tablet);
  isLargeTablet=resources.getBoolean(R.bool.is_large_tablet);
  widthPx=wPx;
  heightPx=hPx;
  availableWidthPx=awPx;
  availableHeightPx=ahPx;
  Rect padding=getWorkspacePadding(isLandscape ? CellLayout.LANDSCAPE : CellLayout.PORTRAIT);
  int pageIndicatorOffset=resources.getDimensionPixelSize(R.dimen.apps_customize_page_indicator_offset);
  if (isLandscape) {
    allAppsNumRows=(availableHeightPx - pageIndicatorOffset - 4 * edgeMarginPx) / (iconSizePx + iconTextSizePx + 2 * edgeMarginPx);
  }
 else {
    allAppsNumRows=(int)numRows + 1;
  }
  allAppsNumCols=(availableWidthPx - padding.left - padding.right- 2 * edgeMarginPx) / (iconSizePx + 2 * edgeMarginPx);
}
