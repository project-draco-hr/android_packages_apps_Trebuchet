{
  boolean needToCancelOngoingAnimation=mQSBSearchBarAnim.isRunning() && !animated;
  if (mIsSearchBarHidden && !needToCancelOngoingAnimation)   return;
  if (animated) {
    prepareStartAnimation(mQSBSearchBar);
    mQSBSearchBarAnim.start();
  }
 else {
    mQSBSearchBarAnim.cancel();
    if (mQSBSearchBar != null && mEnableDropDownDropTargets) {
      mQSBSearchBar.setTranslationY(-mBarHeight);
    }
 else     if (mQSBSearchBar != null) {
      mQSBSearchBar.setAlpha(0f);
    }
  }
  mIsSearchBarHidden=true;
}
