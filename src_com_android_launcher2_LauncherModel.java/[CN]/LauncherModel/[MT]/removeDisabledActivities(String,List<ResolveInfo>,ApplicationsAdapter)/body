{
  final List<ApplicationInfo> toRemove=new ArrayList<ApplicationInfo>();
  final int count=adapter.getCount();
  boolean changed=false;
  for (int i=0; i < count; i++) {
    final ApplicationInfo applicationInfo=adapter.getItem(i);
    final Intent intent=applicationInfo.intent;
    final ComponentName component=intent.getComponent();
    if (packageName.equals(component.getPackageName())) {
      if (!findIntent(matches,component)) {
        toRemove.add(applicationInfo);
        changed=true;
      }
    }
  }
  final HashMap<ComponentName,ApplicationInfo> cache=mAppInfoCache;
  for (  ApplicationInfo info : toRemove) {
    adapter.setNotifyOnChange(false);
    adapter.remove(info);
    cache.remove(info.intent.getComponent());
  }
  return changed;
}
