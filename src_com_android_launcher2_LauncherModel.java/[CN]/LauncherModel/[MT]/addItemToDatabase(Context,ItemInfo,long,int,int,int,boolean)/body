{
  item.container=container;
  item.screen=screen;
  item.cellX=cellX;
  item.cellY=cellY;
  final ContentValues values=new ContentValues();
  final ContentResolver cr=context.getContentResolver();
  item.onAddToDatabase(values);
  Launcher l=(Launcher)context;
  LauncherApplication app=(LauncherApplication)l.getApplication();
  item.id=app.getLauncherProvider().generateNewId();
  values.put(LauncherSettings.Favorites._ID,item.id);
  item.updateValuesWithCoordinates(values,cellX,cellY);
  sWorker.post(new Runnable(){
    public void run(){
      cr.insert(notify ? LauncherSettings.Favorites.CONTENT_URI : LauncherSettings.Favorites.CONTENT_URI_NO_NOTIFICATION,values);
      sItemsIdMap.put(item.id,item);
switch (item.itemType) {
case LauncherSettings.Favorites.ITEM_TYPE_FOLDER:
        sFolders.put(item.id,(FolderInfo)item);
      if (item.container == LauncherSettings.Favorites.CONTAINER_DESKTOP) {
        sWorkspaceItems.add(item);
      }
    break;
case LauncherSettings.Favorites.ITEM_TYPE_APPLICATION:
case LauncherSettings.Favorites.ITEM_TYPE_SHORTCUT:
  if (item.container == LauncherSettings.Favorites.CONTAINER_DESKTOP) {
    sWorkspaceItems.add(item);
  }
break;
case LauncherSettings.Favorites.ITEM_TYPE_APPWIDGET:
sAppWidgets.add((LauncherAppWidgetInfo)item);
break;
}
}
}
);
}
