{
  int iconType=c.getInt(iconTypeIndex);
switch (iconType) {
case LauncherSettings.Favorites.ICON_TYPE_RESOURCE:
    String packageName=c.getString(iconPackageIndex);
  String resourceName=c.getString(iconResourceIndex);
PackageManager packageManager=context.getPackageManager();
try {
Resources appResources=packageManager.getResourcesForApplication(packageName);
final int id=appResources.getIdentifier(resourceName,null,null);
liveFolderInfo.icon=Utilities.createIconBitmap(mIconCache.getFullResIcon(appResources,id),context);
}
 catch (Exception e) {
Resources resources=context.getResources();
liveFolderInfo.icon=Utilities.createIconBitmap(mIconCache.getFullResIcon(resources,R.drawable.ic_launcher_folder),context);
}
liveFolderInfo.iconResource=new Intent.ShortcutIconResource();
liveFolderInfo.iconResource.packageName=packageName;
liveFolderInfo.iconResource.resourceName=resourceName;
break;
default :
Resources resources=context.getResources();
liveFolderInfo.icon=Utilities.createIconBitmap(mIconCache.getFullResIcon(resources,R.drawable.ic_launcher_folder),context);
}
}
