{
  waitForOtherThread();
  final Callbacks cbk=mCallbacks.get();
  final boolean loadWorkspaceFirst=cbk != null ? (!cbk.isAllAppsVisible()) : true;
synchronized (mLock) {
    android.os.Process.setThreadPriority(mIsLaunching ? Process.THREAD_PRIORITY_DEFAULT : Process.THREAD_PRIORITY_BACKGROUND);
  }
  if (PROFILE_LOADERS) {
    android.os.Debug.startMethodTracing("/sdcard/launcher-loaders");
  }
  if (loadWorkspaceFirst) {
    if (DEBUG_LOADERS)     Log.d(TAG,"step 1: loading workspace");
    loadAndBindWorkspace();
  }
 else {
    if (DEBUG_LOADERS)     Log.d(TAG,"step 1: special: loading all apps");
    loadAndBindAllAppsIfDirty();
  }
synchronized (mLock) {
    if (mIsLaunching) {
      android.os.Process.setThreadPriority(Process.THREAD_PRIORITY_BACKGROUND);
    }
  }
  if (loadWorkspaceFirst) {
    if (DEBUG_LOADERS)     Log.d(TAG,"step 2: loading all apps");
    loadAndBindAllAppsIfDirty();
  }
 else {
    if (DEBUG_LOADERS)     Log.d(TAG,"step 2: special: loading workspace");
    loadAndBindWorkspace();
  }
  mContext=null;
synchronized (mLock) {
    mLoaderThread=null;
  }
  if (PROFILE_LOADERS) {
    android.os.Debug.stopMethodTracing();
  }
  mHandler.post(new Runnable(){
    public void run(){
      System.gc();
    }
  }
);
}
