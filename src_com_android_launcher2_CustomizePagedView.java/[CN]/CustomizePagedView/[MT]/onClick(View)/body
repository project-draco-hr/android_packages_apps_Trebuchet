{
  if (!v.isInTouchMode()) {
    return;
  }
  boolean enterChoiceMode=false;
switch (mCustomizationType) {
case WidgetCustomization:
    mChoiceModeTitleText=R.string.cab_widget_selection_text;
  enterChoiceMode=true;
break;
case ApplicationCustomization:
mChoiceModeTitleText=R.string.cab_app_selection_text;
enterChoiceMode=true;
break;
case FolderCustomization:
mChoiceModeTitleText=R.string.cab_folder_selection_text;
enterChoiceMode=true;
break;
case ShortcutCustomization:
mChoiceModeTitleText=R.string.cab_shortcut_selection_text;
enterChoiceMode=true;
break;
default :
break;
}
if (enterChoiceMode) {
if (v instanceof Checkable) {
final Checkable c=(Checkable)v;
final boolean wasChecked=c.isChecked();
resetCheckedGrandchildren();
c.setChecked(!wasChecked);
if (!c.isChecked()) {
endChoiceMode();
}
 else if (isChoiceMode(CHOICE_MODE_NONE)) {
endChoiceMode();
startChoiceMode(CHOICE_MODE_SINGLE,this);
}
}
return;
}
switch (mCustomizationType) {
case WallpaperCustomization:
final View clickView=v;
animateClickFeedback(v,new Runnable(){
@Override public void run(){
ResolveInfo info=(ResolveInfo)clickView.getTag();
Intent createWallpapersIntent=new Intent(Intent.ACTION_SET_WALLPAPER);
ComponentName name=new ComponentName(info.activityInfo.packageName,info.activityInfo.name);
createWallpapersIntent.setComponent(name);
mLauncher.processWallpaper(createWallpapersIntent);
}
}
);
break;
default :
break;
}
}
