{
  final int cellCountX=mAllAppsPagedView.getCellCountX();
  final int cellCountY=Math.min(mAllAppsPagedView.getCellCountY(),mMaxCellCountY);
  if (cellCountX != mCellCountX || cellCountY != mCellCountY) {
    mCellCountX=cellCountX;
    mCellCountY=cellCountY;
    PagedViewCellLayout layout=new PagedViewCellLayout(getContext());
    setupPage(layout);
    mPageContentWidth=layout.getContentWidth();
    mPageContentHeight=layout.getContentHeight();
    mMinPageWidth=layout.getWidthBeforeFirstLayout();
    postInvalidatePageData(true);
  }
  if (mPageContentHeight > 0) {
    final int h=mPageContentHeight + mPageLayoutPaddingTop + mPageLayoutPaddingBottom;
    heightSpec=MeasureSpec.makeMeasureSpec(h,MeasureSpec.EXACTLY);
  }
  super.onMeasure(widthSpec,heightSpec);
  mFirstMeasure=false;
}
