{
  super.onFinishInflate();
  mQSBSearchBar=findViewById(R.id.qsb_search_bar);
  mDropTargetBar=findViewById(R.id.drag_target_bar);
  mInfoDropTarget=(ButtonDropTarget)mDropTargetBar.findViewById(R.id.info_target_text);
  mDeleteDropTarget=(ButtonDropTarget)mDropTargetBar.findViewById(R.id.delete_target_text);
  mBarHeight=getResources().getDimensionPixelSize(R.dimen.qsb_bar_height);
  mInfoDropTarget.setSearchDropTargetBar(this);
  mDeleteDropTarget.setSearchDropTargetBar(this);
  mEnableDropDownDropTargets=getResources().getBoolean(R.bool.config_useDropTargetDownTransition);
  if (mEnableDropDownDropTargets) {
    mDropTargetBar.setTranslationY(-mBarHeight);
    mDropTargetBarFadeInAnim=ObjectAnimator.ofFloat(mDropTargetBar,"translationY",0f);
    mDropTargetBarFadeOutAnim=ObjectAnimator.ofFloat(mDropTargetBar,"translationY",-mBarHeight);
    mQSBSearchBarFadeInAnim=ObjectAnimator.ofFloat(mQSBSearchBar,"translationY",0);
    mQSBSearchBarFadeOutAnim=ObjectAnimator.ofFloat(mQSBSearchBar,"translationY",-mBarHeight);
  }
 else {
    mDropTargetBar.setAlpha(0f);
    mDropTargetBarFadeInAnim=ObjectAnimator.ofFloat(mDropTargetBar,"alpha",1f);
    mDropTargetBarFadeOutAnim=ObjectAnimator.ofFloat(mDropTargetBar,"alpha",0f);
    mQSBSearchBarFadeInAnim=ObjectAnimator.ofFloat(mQSBSearchBar,"alpha",1f);
    mQSBSearchBarFadeOutAnim=ObjectAnimator.ofFloat(mQSBSearchBar,"alpha",0f);
  }
  prepareAnimation(mDropTargetBarFadeInAnim,mDropTargetBarFadeOutAnim,mDropTargetBar);
  prepareAnimation(mQSBSearchBarFadeInAnim,mQSBSearchBarFadeOutAnim,mQSBSearchBar);
}
