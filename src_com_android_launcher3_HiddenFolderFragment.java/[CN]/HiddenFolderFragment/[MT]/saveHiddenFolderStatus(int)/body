{
  String newTitle=mFolderName.getText().toString();
  if (mLauncher.mHiddenFolderIcon != null) {
    if (position != -1) {
      Folder folder=mLauncher.mHiddenFolderIcon.getFolder();
      View v=folder.getViewFromPosition(position);
      Object tag=v.getTag();
      if (tag instanceof ShortcutInfo) {
        ShortcutInfo shortcut=(ShortcutInfo)tag;
        mLauncher.startActivitySafely(v,shortcut.getIntent(),v.getTag());
        return;
      }
    }
    FolderInfo info=mLauncher.mHiddenFolderIcon.getFolderInfo();
    if (!info.title.equals(newTitle)) {
      info.setTitle(newTitle);
      mLauncher.mHiddenFolderIcon.getFolder().setFolderName();
      LauncherModel.updateItemInDatabase(mLauncher,info);
    }
    if (info.hidden == mHidden) {
      return;
    }
 else {
      info.hidden=mHidden;
      mLauncher.mHiddenFolderIcon.getFolder().modifyProtectedApps(!info.hidden);
      LauncherModel.updateItemInDatabase(mLauncher,info);
      mLauncher.mModel.flushWorkerThread();
    }
  }
  FragmentTransaction fragmentTransaction=getFragmentManager().beginTransaction();
  fragmentTransaction.remove(mLauncher.mHiddenFolderFragment).commit();
}
