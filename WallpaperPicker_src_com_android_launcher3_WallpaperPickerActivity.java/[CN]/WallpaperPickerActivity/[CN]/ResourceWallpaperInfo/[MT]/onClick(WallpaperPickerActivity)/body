{
  BitmapRegionTileSource.ResourceBitmapSource bitmapSource=new BitmapRegionTileSource.ResourceBitmapSource(mResources,mResId,BitmapRegionTileSource.MAX_PREVIEW_SIZE);
  bitmapSource.loadInBackground();
  BitmapRegionTileSource source=new BitmapRegionTileSource(a,bitmapSource);
  CropView v=a.getCropView();
  v.setTileSource(source,null);
  Point wallpaperSize=WallpaperCropActivity.getDefaultWallpaperSize(a.getResources(),a.getWindowManager());
  RectF crop=WallpaperCropActivity.getMaxCropRect(source.getImageWidth(),source.getImageHeight(),wallpaperSize.x,wallpaperSize.y,false);
  v.setScale(wallpaperSize.x / crop.width());
  v.setTouchEnabled(false);
  a.setSystemWallpaperVisiblity(false);
}
