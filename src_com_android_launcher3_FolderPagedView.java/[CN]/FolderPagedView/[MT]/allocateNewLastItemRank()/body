{
  int rank=getItemCount();
  int total=rank + 1;
  if (rank < mMaxItemsPerPage) {
    mFolder.rearrangeChildren(total);
  }
 else {
    setupContentDimensions(total);
  }
  if (getPageAt(getChildCount() - 1).getShortcutsAndWidgets().getChildCount() >= mMaxItemsPerPage) {
    addFullScreenPage(newCellLayout());
  }
  setCurrentPage(getChildCount() - 1);
  return rank;
}
