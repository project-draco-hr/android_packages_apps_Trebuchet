{
  if (DEBUG) {
    Log.d(TAG,String.format("cancel on state [%d] widgetId=[%d]",mState,mWidgetLoadingId));
  }
  PendingAddWidgetInfo info=mCreateWidgetInfo;
  mCreateWidgetInfo=null;
  if (mState == WIDGET_PRELOAD_PENDING) {
    mHandler.removeCallbacks(mBindWidgetRunnable);
    mHandler.removeCallbacks(mInflateWidgetRunnable);
  }
 else   if (mState == WIDGET_BOUND) {
    if (mWidgetLoadingId != -1 && !info.isCustomWidget()) {
      mLauncher.getAppWidgetHost().deleteAppWidgetId(mWidgetLoadingId);
    }
    mHandler.removeCallbacks(mInflateWidgetRunnable);
  }
 else   if (mState == WIDGET_INFLATED && !widgetIdUsed) {
    if (mWidgetLoadingId != -1 && !info.isCustomWidget()) {
      mLauncher.getAppWidgetHost().deleteAppWidgetId(mWidgetLoadingId);
    }
    AppWidgetHostView widget=info.boundWidget;
    mLauncher.getDragLayer().removeView(widget);
  }
  setState(WIDGET_NO_CLEANUP_REQUIRED);
  mWidgetLoadingId=-1;
}
