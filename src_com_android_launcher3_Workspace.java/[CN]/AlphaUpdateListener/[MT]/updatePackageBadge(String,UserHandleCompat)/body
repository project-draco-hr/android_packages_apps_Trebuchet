{
  mapOverItems(MAP_RECURSE,new ItemOperator(){
    @Override public boolean evaluate(    ItemInfo info,    View v,    View parent){
      if (info instanceof ShortcutInfo && v instanceof BubbleTextView) {
        ShortcutInfo shortcutInfo=(ShortcutInfo)info;
        ComponentName cn=shortcutInfo.getTargetComponent();
        if (user.equals(shortcutInfo.user) && cn != null && shortcutInfo.isPromise() && packageName.equals(cn.getPackageName())) {
          if (shortcutInfo.hasStatusFlag(ShortcutInfo.FLAG_AUTOINTALL_ICON)) {
            mIconCache.getTitleAndIcon(shortcutInfo,shortcutInfo.promisedIntent,user);
          }
 else {
            shortcutInfo.updateIcon(mIconCache);
          }
          BubbleTextView shortcut=(BubbleTextView)v;
          shortcut.applyFromShortcutInfo(shortcutInfo,mIconCache,true,false);
          if (parent != null) {
            parent.invalidate();
          }
        }
      }
      return false;
    }
  }
);
}
