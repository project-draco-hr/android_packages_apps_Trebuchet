{
  if (mDeferDropAfterUninstall) {
    mDeferredAction=new Runnable(){
      public void run(){
        onDropCompleted(target,d,isFlingToDelete,success);
        mDeferredAction=null;
      }
    }
;
    return;
  }
  boolean beingCalledAfterUninstall=mDeferredAction != null;
  if (success && !(beingCalledAfterUninstall && !mUninstallSuccessful)) {
    if (target != this && mDragInfo != null) {
      CellLayout parentCell=getParentCellLayoutForView(mDragInfo.cell);
      if (parentCell != null) {
        parentCell.removeView(mDragInfo.cell);
      }
 else       if (LauncherAppState.isDogfoodBuild()) {
        throw new NullPointerException("mDragInfo.cell has null parent");
      }
      if (mDragInfo.cell instanceof DropTarget) {
        mDragController.removeDropTarget((DropTarget)mDragInfo.cell);
      }
    }
  }
 else   if (mDragInfo != null) {
    CellLayout cellLayout;
    if (mLauncher.isHotseatLayout(target)) {
      cellLayout=mLauncher.getHotseat().getLayout();
    }
 else {
      cellLayout=getScreenWithId(mDragInfo.screenId);
    }
    if (cellLayout == null && LauncherAppState.isDogfoodBuild()) {
      throw new RuntimeException("Invalid state: cellLayout == null in " + "Workspace#onDropCompleted. Please file a bug. ");
    }
    if (cellLayout != null) {
      cellLayout.onDropChild(mDragInfo.cell);
    }
  }
  if ((d.cancelled || (beingCalledAfterUninstall && !mUninstallSuccessful)) && mDragInfo.cell != null) {
    mDragInfo.cell.setVisibility(VISIBLE);
  }
  mDragOutline=null;
  mDragInfo=null;
}
