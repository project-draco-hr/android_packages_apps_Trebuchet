{
  final DragLayer dragLayer=mLauncher.getDragLayer();
  if (mBackgroundFadeInAnimation != null) {
    mBackgroundFadeInAnimation.cancel();
    mBackgroundFadeInAnimation=null;
  }
  if (mBackgroundFadeOutAnimation != null) {
    mBackgroundFadeOutAnimation.cancel();
    mBackgroundFadeOutAnimation=null;
  }
  float startAlpha=dragLayer.getBackgroundAlpha();
  if (finalAlpha != startAlpha) {
    if (animated) {
      mBackgroundFadeOutAnimation=LauncherAnimUtils.ofFloat(this,startAlpha,finalAlpha);
      mBackgroundFadeOutAnimation.addUpdateListener(new AnimatorUpdateListener(){
        public void onAnimationUpdate(        ValueAnimator animation){
          dragLayer.setBackgroundAlpha(((Float)animation.getAnimatedValue()).floatValue());
        }
      }
);
      mBackgroundFadeOutAnimation.setInterpolator(new DecelerateInterpolator(1.5f));
      mBackgroundFadeOutAnimation.setDuration(BACKGROUND_FADE_OUT_DURATION);
      mBackgroundFadeOutAnimation.start();
    }
 else {
      dragLayer.setBackgroundAlpha(finalAlpha);
    }
  }
}
