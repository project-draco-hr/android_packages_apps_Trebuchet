{
  final HashMap<UserHandleCompat,ArrayList<AppInfo>> appsPerUser=new HashMap<UserHandleCompat,ArrayList<AppInfo>>();
  for (  AppInfo info : apps) {
    ArrayList<AppInfo> filtered=appsPerUser.get(info.user);
    if (filtered == null) {
      filtered=new ArrayList<AppInfo>();
      appsPerUser.put(info.user,filtered);
    }
    filtered.add(info);
  }
  for (  Map.Entry<UserHandleCompat,ArrayList<AppInfo>> entry : appsPerUser.entrySet()) {
    updateShortcutsAndWidgetsPerUser(entry.getValue(),entry.getKey());
  }
}
