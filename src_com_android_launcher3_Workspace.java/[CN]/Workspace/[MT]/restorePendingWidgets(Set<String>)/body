{
  final AtomicBoolean widgetsChanged=new AtomicBoolean(false);
  mapOverItems(MAP_NO_RECURSE,new ItemOperator(){
    @Override public boolean evaluate(    ItemInfo info,    View v,    View parent){
      if (info instanceof LauncherAppWidgetInfo) {
        LauncherAppWidgetInfo widgetInfo=(LauncherAppWidgetInfo)info;
        if (widgetInfo.hasRestoreFlag(LauncherAppWidgetInfo.FLAG_PROVIDER_NOT_READY) && installedPackaged.contains(widgetInfo.providerName.getPackageName())) {
          widgetsChanged.set(true);
        }
      }
      return false;
    }
  }
);
  if (widgetsChanged.get()) {
    getContext().getContentResolver().notifyChange(LauncherSettings.Favorites.CONTENT_URI,null);
  }
}
