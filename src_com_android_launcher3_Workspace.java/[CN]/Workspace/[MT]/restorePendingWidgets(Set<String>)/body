{
  final ArrayList<LauncherAppWidgetInfo> changedInfo=new ArrayList<LauncherAppWidgetInfo>();
  mapOverItems(MAP_NO_RECURSE,new ItemOperator(){
    @Override public boolean evaluate(    ItemInfo info,    View v,    View parent){
      if (info instanceof LauncherAppWidgetInfo) {
        LauncherAppWidgetInfo widgetInfo=(LauncherAppWidgetInfo)info;
        if (widgetInfo.hasRestoreFlag(LauncherAppWidgetInfo.FLAG_PROVIDER_NOT_READY) && installedPackaged.contains(widgetInfo.providerName.getPackageName())) {
          changedInfo.add(widgetInfo);
          widgetInfo.restoreStatus&=~LauncherAppWidgetInfo.FLAG_PROVIDER_NOT_READY;
          LauncherModel.updateItemInDatabase(getContext(),widgetInfo);
        }
      }
      return false;
    }
  }
);
  if (!changedInfo.isEmpty()) {
    DeferredWidgetRefresh widgetRefresh=new DeferredWidgetRefresh(changedInfo,mLauncher.getAppWidgetHost());
    if (LauncherModel.findAppWidgetProviderInfoWithComponent(getContext(),changedInfo.get(0).providerName) != null) {
      widgetRefresh.run();
    }
 else {
    }
  }
}
