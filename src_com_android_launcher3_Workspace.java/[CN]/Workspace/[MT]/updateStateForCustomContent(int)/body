{
  if (hasCustomContent() && !isSmall() && !isSwitchingState()) {
    int index=mScreenOrder.indexOf(CUSTOM_CONTENT_SCREEN_ID);
    int scrollDelta=getScrollForPage(index + 1) - getScrollX();
    float progress=(1.0f * scrollDelta) / (getScrollForPage(index + 1) - getScrollForPage(index));
    progress=Math.max(0,progress);
    if (Float.compare(progress,mLastCustomContentScrollProgress) == 0)     return;
    mLastCustomContentScrollProgress=progress;
    setBackgroundAlpha(progress * 0.8f);
    float height=getViewportHeight();
    if (getPageIndicator() != null) {
      height-=getPageIndicator().getTop();
    }
 else     if (mLauncher.getHotseat() != null) {
      height-=mLauncher.getHotseat().getTop();
    }
    float transY=progress * height;
    if (mLauncher.getHotseat() != null) {
      mLauncher.getHotseat().setTranslationY(transY);
      mLauncher.getHotseat().setAlpha(1 - progress);
    }
    if (getPageIndicator() != null) {
      final float alpha=1 - progress;
      final View pi=getPageIndicator();
      getPageIndicator().setAlpha(alpha);
      if (alpha < ALPHA_CUTOFF_THRESHOLD && pi.getVisibility() != INVISIBLE) {
        pi.setVisibility(INVISIBLE);
      }
 else       if (alpha > ALPHA_CUTOFF_THRESHOLD && pi.getVisibility() != VISIBLE) {
        pi.setVisibility(VISIBLE);
      }
    }
    if (mCustomContentCallbacks != null) {
      mCustomContentCallbacks.onScrollProgressChanged(progress);
    }
  }
}
