{
  if (mScroller.computeScrollOffset()) {
    if (getScrollX() != mScroller.getCurrX() || getScrollY() != mScroller.getCurrY() || mOverScrollX != mScroller.getCurrX()) {
      float scaleX=mFreeScroll ? getScaleX() : 1f;
      int scrollX=(int)(mScroller.getCurrX() * (1 / scaleX));
      scrollTo(scrollX,mScroller.getCurrY());
    }
    invalidate();
    return true;
  }
 else   if (mNextPage != INVALID_PAGE) {
    sendScrollAccessibilityEvent();
    mCurrentPage=Math.max(0,Math.min(mNextPage,getPageCount() - 1));
    mNextPage=INVALID_PAGE;
    notifyPageSwitchListener();
    if (mDeferLoadAssociatedPagesUntilScrollCompletes) {
      loadAssociatedPages(mCurrentPage);
      mDeferLoadAssociatedPagesUntilScrollCompletes=false;
    }
    if (mTouchState == TOUCH_STATE_REST) {
      pageEndMoving();
    }
    onPostReorderingAnimationCompleted();
    AccessibilityManager am=(AccessibilityManager)getContext().getSystemService(Context.ACCESSIBILITY_SERVICE);
    if (am.isEnabled()) {
      announceForAccessibility(getCurrentPageDescription());
    }
    return true;
  }
  return false;
}
