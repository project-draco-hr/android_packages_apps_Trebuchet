{
  if (index < 0 || index > getChildCount() - 1)   return 0;
  final boolean isRtl=isLayoutRtl();
  int[] childOffsets=mChildOffsets;
  if (childOffsets != null && childOffsets[index] != -1) {
    return childOffsets[index];
  }
 else {
    if (getChildCount() == 0)     return 0;
    final int startIndex=isRtl ? getChildCount() - 1 : 0;
    final int endIndex=isRtl ? index : index;
    final int delta=isRtl ? -1 : 1;
    int offset=getRelativeChildOffset(startIndex);
    for (int i=startIndex; i != endIndex; i+=delta) {
      offset+=getPageAt(i).getMeasuredWidth() + mPageSpacing;
    }
    if (childOffsets != null) {
      childOffsets[index]=offset;
    }
    return offset;
  }
}
