{
  final boolean isRtl=isLayoutRtl();
  if (!isScrollingIndicatorEnabled())   return;
  if (mScrollIndicator == null)   return;
  int numPages=getChildCount();
  int pageWidth=getMeasuredWidth();
  int trackWidth=pageWidth - mScrollIndicatorPaddingLeft - mScrollIndicatorPaddingRight;
  int indicatorWidth=mScrollIndicator.getMeasuredWidth() - mScrollIndicator.getPaddingLeft() - mScrollIndicator.getPaddingRight();
  float scrollPos=isRtl ? mMaxScrollX - getScrollX() : getScrollX();
  float offset=Math.max(0f,Math.min(1f,(float)scrollPos / mMaxScrollX));
  if (isRtl) {
    offset=1f - offset;
  }
  int indicatorSpace=trackWidth / numPages;
  int indicatorPos=(int)(offset * (trackWidth - indicatorSpace)) + mScrollIndicatorPaddingLeft;
  if (hasElasticScrollIndicator()) {
    if (mScrollIndicator.getMeasuredWidth() != indicatorSpace) {
      mScrollIndicator.getLayoutParams().width=indicatorSpace;
      mScrollIndicator.requestLayout();
    }
  }
 else {
    int indicatorCenterOffset=indicatorSpace / 2 - indicatorWidth / 2;
    indicatorPos+=indicatorCenterOffset;
  }
  mScrollIndicator.setTranslationX(indicatorPos);
}
