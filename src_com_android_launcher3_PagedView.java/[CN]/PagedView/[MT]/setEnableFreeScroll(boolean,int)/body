{
  mFreeScroll=freeScroll;
  if (snapPage == -1) {
    snapPage=getPageNearestToCenterOfScreen();
  }
  getOverviewModePages(mTempVisiblePagesRange);
  if (!mFreeScroll) {
    snapToPage(snapPage);
    for (int i=0; i < getPageCount(); ++i) {
      if (i < mTempVisiblePagesRange[0] || i > mTempVisiblePagesRange[1]) {
        getPageAt(i).setAlpha(1f);
      }
    }
  }
 else {
    mFreeScrollMinScrollX=getScrollForPage(mTempVisiblePagesRange[0]);
    mFreeScrollMaxScrollX=getScrollForPage(mTempVisiblePagesRange[1]);
    for (int i=0; i < getPageCount(); ++i) {
      if (i < mTempVisiblePagesRange[0] || i > mTempVisiblePagesRange[1]) {
        getPageAt(i).setAlpha(0f);
      }
    }
    if (getCurrentPage() < mTempVisiblePagesRange[0]) {
      setCurrentPage(mTempVisiblePagesRange[0]);
    }
 else     if (getCurrentPage() > mTempVisiblePagesRange[1]) {
      setCurrentPage(mTempVisiblePagesRange[1]);
    }
  }
  setEnableOverscroll(!freeScroll);
}
