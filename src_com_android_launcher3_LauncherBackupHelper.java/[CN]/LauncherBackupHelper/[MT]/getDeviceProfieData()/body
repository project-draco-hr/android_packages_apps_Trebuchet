{
  if (mCurrentProfile != null) {
    return mCurrentProfile;
  }
  LauncherAppState.setApplicationContext(mContext.getApplicationContext());
  LauncherAppState app=LauncherAppState.getInstance();
  DeviceProfile profile;
  if (app.getDynamicGrid() == null) {
    profile=app.initDynamicGrid(mContext);
  }
 else {
    profile=app.getDynamicGrid().getDeviceProfile();
  }
  mCurrentProfile=new DeviceProfieData();
  mCurrentProfile.desktopRows=profile.numRows;
  mCurrentProfile.desktopCols=profile.numColumns;
  mCurrentProfile.hotseatCount=profile.numHotseatIcons;
  mCurrentProfile.allappsRank=profile.hotseatAllAppsRank;
  return mCurrentProfile;
}
