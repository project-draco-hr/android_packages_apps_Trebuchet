{
  FileOutputStream outStream=null;
  try {
    outStream=new FileOutputStream(newState.getFileDescriptor());
    final byte[] journalBytes=writeCheckedBytes(journal);
    if (DEBUG)     Log.d(TAG,"writing " + journalBytes.length + " bytes of journal");
    outStream.write(journalBytes);
    outStream.close();
  }
 catch (  IOException e) {
    Log.d(TAG,"failed to write backup journal",e);
  }
}
