{
  mLauncherCallbacks=callbacks;
  mLauncherCallbacks.setLauncherAppsCallback(new Launcher.LauncherAppsCallbacks(){
    @Override public void onAllAppsBoundsChanged(    Rect bounds){
      if (LOGD) {
        Log.d(TAG,"onAllAppsBoundsChanged(Rect): " + bounds);
      }
      mAppsView.setFixedBounds(bounds);
      mWidgetsView.setFixedBounds(bounds);
    }
    @Override public void dismissAllApps(){
      if (!DISABLE_ALL_APPS_SEARCH_INTEGRATION) {
        if (!mPaused) {
          showWorkspace(WorkspaceStateTransitionAnimation.SCROLL_TO_CURRENT_PAGE,true,null,false);
        }
      }
    }
  }
);
  mLauncherCallbacks.setLauncherSearchCallback(new Launcher.LauncherSearchCallbacks(){
    private boolean mImportanceStored=false;
    private int mWorkspaceImportanceForAccessibility=View.IMPORTANT_FOR_ACCESSIBILITY_AUTO;
    private int mHotseatImportanceForAccessibility=View.IMPORTANT_FOR_ACCESSIBILITY_AUTO;
    @Override public void onSearchOverlayOpened(){
      if (mImportanceStored) {
        return;
      }
      mWorkspaceImportanceForAccessibility=mWorkspace.getImportantForAccessibility();
      mHotseatImportanceForAccessibility=mHotseat.getImportantForAccessibility();
      mWorkspace.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_NO_HIDE_DESCENDANTS);
      mHotseat.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_NO_HIDE_DESCENDANTS);
      mImportanceStored=true;
    }
    @Override public void onSearchOverlayClosed(){
      mWorkspace.setImportantForAccessibility(mWorkspaceImportanceForAccessibility);
      mHotseat.setImportantForAccessibility(mHotseatImportanceForAccessibility);
      mImportanceStored=false;
    }
  }
);
  return true;
}
