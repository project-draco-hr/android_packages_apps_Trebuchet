{
  intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_RESET_TASK_IF_NEEDED);
  try {
    boolean useLaunchAnimation=(v != null) && !intent.hasExtra(INTENT_EXTRA_IGNORE_LAUNCH_ANIMATION);
    LauncherAppsCompat launcherApps=LauncherAppsCompat.getInstance(this);
    UserManagerCompat userManager=UserManagerCompat.getInstance(this);
    long serialNumber=intent.getLongExtra(AppInfo.EXTRA_PROFILE,0);
    UserHandleCompat user=serialNumber == 0 ? null : userManager.getUserForSerialNumber(serialNumber);
    if (useLaunchAnimation) {
      ActivityOptions opts=ActivityOptions.makeScaleUpAnimation(v,0,0,v.getMeasuredWidth(),v.getMeasuredHeight());
      if (user == null || user.equals(UserHandleCompat.myUserHandle())) {
        startActivity(intent,opts.toBundle());
      }
 else {
        launcherApps.startActivityForProfile(intent.getComponent(),intent.getSourceBounds(),opts.toBundle(),user);
      }
    }
 else {
      startActivity(intent);
    }
    return true;
  }
 catch (  SecurityException e) {
    Toast.makeText(this,R.string.activity_not_found,Toast.LENGTH_SHORT).show();
    Log.e(TAG,"Launcher does not have the permission to launch " + intent + ". Make sure to create a MAIN intent-filter for the corresponding activity "+ "or use the exported attribute for this activity. "+ "tag="+ tag+ " intent="+ intent,e);
  }
  return false;
}
