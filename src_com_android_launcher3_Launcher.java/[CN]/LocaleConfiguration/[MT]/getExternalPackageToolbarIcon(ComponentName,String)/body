{
  try {
    PackageManager packageManager=getPackageManager();
    Bundle metaData=packageManager.getActivityInfo(activityName,PackageManager.GET_META_DATA).metaData;
    if (metaData != null) {
      int iconResId=metaData.getInt(resourceName);
      if (iconResId != 0) {
        Resources res=packageManager.getResourcesForActivity(activityName);
        return res.getDrawable(iconResId);
      }
    }
  }
 catch (  NameNotFoundException e) {
    Log.w(TAG,"Failed to load toolbar icon; " + activityName.flattenToShortString() + " not found",e);
  }
catch (  Resources.NotFoundException nfe) {
    Log.w(TAG,"Failed to load toolbar icon from " + activityName.flattenToShortString(),nfe);
  }
  return null;
}
