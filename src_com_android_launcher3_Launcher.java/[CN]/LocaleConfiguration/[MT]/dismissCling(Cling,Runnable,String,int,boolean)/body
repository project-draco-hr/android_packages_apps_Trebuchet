{
  if (cling != null && cling.getVisibility() != View.GONE) {
    final Runnable cleanUpClingCb=new Runnable(){
      public void run(){
        cling.cleanup();
        new AsyncTask<Void,Void,Void>(){
          public Void doInBackground(          Void... args){
            SharedPreferences.Editor editor=mSharedPrefs.edit();
            editor.putBoolean(flag,true);
            editor.commit();
            return null;
          }
        }
.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR,(Void)null);
        if (postAnimationCb != null) {
          postAnimationCb.run();
        }
      }
    }
;
    if (duration <= 0) {
      cleanUpClingCb.run();
    }
 else {
      cling.hide(duration,cleanUpClingCb);
    }
    mHideFromAccessibilityHelper.restoreImportantForAccessibility(mDragLayer);
    if (restoreNavBarVisibilty) {
      cling.setSystemUiVisibility(cling.getSystemUiVisibility() & ~View.SYSTEM_UI_FLAG_LOW_PROFILE);
    }
  }
}
