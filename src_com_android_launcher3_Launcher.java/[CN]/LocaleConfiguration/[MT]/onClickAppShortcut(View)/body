{
  if (LOGD)   Log.d(TAG,"onClickAppShortcut");
  Object tag=v.getTag();
  if (!(tag instanceof ShortcutInfo)) {
    throw new IllegalArgumentException("Input must be a Shortcut");
  }
  final ShortcutInfo shortcut=(ShortcutInfo)tag;
  final Intent intent=shortcut.intent;
  if (intent.getComponent() != null) {
    final String shortcutClass=intent.getComponent().getClassName();
    if (shortcutClass.equals(MemoryDumpActivity.class.getName())) {
      MemoryDumpActivity.startDump(this);
      return;
    }
 else     if (shortcutClass.equals(ToggleWeightWatcher.class.getName())) {
      toggleShowWeightWatcher();
      return;
    }
  }
  if (shortcut.isAbandoned() && v instanceof BubbleTextView) {
    final ArrayList<BubbleTextView> abandoned=mWorkspace.getAbandonedPromises(new ArrayList<BubbleTextView>());
    AlertDialog.Builder builder=new AlertDialog.Builder(this);
    builder.setTitle(R.string.abandoned_promises_title);
    builder.setMessage(getResources().getQuantityString(R.plurals.abandoned_promises_explanation,abandoned.size()));
    builder.setPositiveButton(R.string.abandoned_search,new DialogInterface.OnClickListener(){
      public void onClick(      DialogInterface dialog,      int id){
        startAppShortcutActivity(v);
      }
    }
);
    if (abandoned.size() > 1) {
      builder.setNegativeButton(R.string.abandoned_clean_all,new DialogInterface.OnClickListener(){
        public void onClick(        DialogInterface dialog,        int id){
          final UserHandleCompat user=UserHandleCompat.myUserHandle();
          mWorkspace.removeAbandonedPromises(abandoned,user);
        }
      }
);
    }
    builder.setNeutralButton(R.string.abandoned_clean_this,new DialogInterface.OnClickListener(){
      public void onClick(      DialogInterface dialog,      int id){
        final BubbleTextView bubble=(BubbleTextView)v;
        final UserHandleCompat user=UserHandleCompat.myUserHandle();
        mWorkspace.removeAbandonedPromise(bubble,user);
      }
    }
);
    builder.create().show();
    return;
  }
  startAppShortcutActivity(v);
}
