{
  if (!isDraggingEnabled())   return false;
  if (isWorkspaceLocked())   return false;
  if (mState != State.WORKSPACE)   return false;
  if (v instanceof Workspace) {
    if (!mWorkspace.isInOverviewMode()) {
      if (mWorkspace.enterOverviewMode()) {
        mWorkspace.performHapticFeedback(HapticFeedbackConstants.LONG_PRESS,HapticFeedbackConstants.FLAG_IGNORE_VIEW_SETTING);
        return true;
      }
 else {
        return false;
      }
    }
  }
  if (!(v instanceof CellLayout)) {
    v=(View)v.getParent().getParent();
  }
  resetAddInfo();
  CellLayout.CellInfo longClickCellInfo=(CellLayout.CellInfo)v.getTag();
  if (longClickCellInfo == null) {
    return true;
  }
  final View itemUnderLongClick=longClickCellInfo.cell;
  final boolean inHotseat=isHotseatLayout(v);
  boolean allowLongPress=inHotseat || mWorkspace.allowLongPress();
  if (allowLongPress && !mDragController.isDragging()) {
    if (itemUnderLongClick == null) {
      mWorkspace.performHapticFeedback(HapticFeedbackConstants.LONG_PRESS,HapticFeedbackConstants.FLAG_IGNORE_VIEW_SETTING);
      if (mWorkspace.isInOverviewMode()) {
        mWorkspace.startReordering(v);
      }
 else {
        mWorkspace.enterOverviewMode();
      }
    }
 else {
      final boolean isAllAppsButton=inHotseat && isAllAppsButtonRank(mHotseat.getOrderInHotseat(longClickCellInfo.cellX,longClickCellInfo.cellY));
      if (!(itemUnderLongClick instanceof Folder || isAllAppsButton)) {
        mWorkspace.startDrag(longClickCellInfo);
      }
    }
  }
  return true;
}
