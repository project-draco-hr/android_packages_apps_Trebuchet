{
  if (savedState == null) {
    return;
  }
  State state=intToState(savedState.getInt(RUNTIME_STATE,State.WORKSPACE.ordinal()));
  if (state == State.APPS || state == State.WIDGETS) {
    mOnResumeState=state;
  }
  int currentScreen=savedState.getInt(RUNTIME_STATE_CURRENT_SCREEN,PagedView.INVALID_RESTORE_PAGE);
  if (currentScreen != PagedView.INVALID_RESTORE_PAGE) {
    mWorkspace.setRestorePage(currentScreen);
  }
  final long pendingAddContainer=savedState.getLong(RUNTIME_STATE_PENDING_ADD_CONTAINER,-1);
  final long pendingAddScreen=savedState.getLong(RUNTIME_STATE_PENDING_ADD_SCREEN,-1);
  if (pendingAddContainer != ItemInfo.NO_ID && pendingAddScreen > -1) {
    mPendingAddInfo.container=pendingAddContainer;
    mPendingAddInfo.screenId=pendingAddScreen;
    mPendingAddInfo.cellX=savedState.getInt(RUNTIME_STATE_PENDING_ADD_CELL_X);
    mPendingAddInfo.cellY=savedState.getInt(RUNTIME_STATE_PENDING_ADD_CELL_Y);
    mPendingAddInfo.spanX=savedState.getInt(RUNTIME_STATE_PENDING_ADD_SPAN_X);
    mPendingAddInfo.spanY=savedState.getInt(RUNTIME_STATE_PENDING_ADD_SPAN_Y);
    mPendingAddWidgetInfo=savedState.getParcelable(RUNTIME_STATE_PENDING_ADD_WIDGET_INFO);
    mPendingAddWidgetId=savedState.getInt(RUNTIME_STATE_PENDING_ADD_WIDGET_ID);
    setWaitingForResult(true);
    mRestoring=true;
  }
  boolean renameFolder=savedState.getBoolean(RUNTIME_STATE_PENDING_FOLDER_RENAME,false);
  if (renameFolder) {
    long id=savedState.getLong(RUNTIME_STATE_PENDING_FOLDER_RENAME_ID);
    mFolderInfo=mModel.getFolderById(this,sFolders,id);
    mRestoring=true;
  }
  if (mAppsCustomizeTabHost != null) {
    String curTab=savedState.getString("apps_customize_currentTab");
    if (curTab != null) {
      mAppsCustomizeTabHost.setContentTypeImmediate(mAppsCustomizeTabHost.getContentTypeForTabTag(curTab));
      mAppsCustomizeContent.loadAssociatedPages(mAppsCustomizeContent.getCurrentPage());
    }
    int currentIndex=savedState.getInt("apps_customize_currentIndex");
    mAppsCustomizeContent.restorePageForIndex(currentIndex);
  }
  mItemIdToViewId=(HashMap<Integer,Integer>)savedState.getSerializable(RUNTIME_STATE_VIEW_IDS);
}
