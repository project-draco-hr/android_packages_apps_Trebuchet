{
  final Intent mainIntent=new Intent(Intent.ACTION_MAIN,null);
  mainIntent.addCategory(Intent.CATEGORY_LAUNCHER);
  List<ResolveInfo> apps=getPackageManager().queryIntentActivities(mainIntent,0);
  ArrayList<ComponentName> allApps=new ArrayList<ComponentName>();
  int count=apps.size();
  for (int i=0; i < count; i++) {
    ActivityInfo ai=apps.get(i).activityInfo;
    ComponentName cn=new ComponentName(ai.applicationInfo.packageName,ai.name);
    allApps.add(cn);
  }
  return allApps;
}
