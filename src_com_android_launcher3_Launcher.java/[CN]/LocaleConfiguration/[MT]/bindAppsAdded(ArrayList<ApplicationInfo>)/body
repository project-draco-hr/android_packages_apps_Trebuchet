{
  if (waitUntilResume(new Runnable(){
    public void run(){
      bindAppsAdded(apps);
    }
  }
)) {
    return;
  }
  final Launcher launcher=this;
  final Context context=this;
  final ArrayList<ApplicationInfo> appsCopy=new ArrayList<ApplicationInfo>();
  appsCopy.addAll(apps);
  mWorkspace.post(new Runnable(){
    @Override public void run(){
      LauncherModel model=getModel();
      Iterator<ApplicationInfo> iter=appsCopy.iterator();
      ArrayList<View> animatedShortcuts=new ArrayList<View>();
      while (iter.hasNext()) {
        ApplicationInfo a=iter.next();
        Pair<Long,int[]> coords=LauncherModel.findNextAvailableIconSpace(context,a.title.toString(),a.intent);
        if (coords == null) {
          long screenId=LauncherAppState.getInstance().getLauncherProvider().generateNewScreenId();
          mWorkspace.insertNewWorkspaceScreen(screenId,false);
          model.updateWorkspaceScreenOrder(launcher,mWorkspace.getScreenOrder(),new Runnable(){
            @Override public void run(){
              bindAppsAdded(appsCopy);
            }
          }
);
          return;
        }
 else {
          final ShortcutInfo shortcutInfo=a.makeShortcut();
          final View shortcut=createShortcut(shortcutInfo);
          mWorkspace.addInScreenFromBind(shortcut,LauncherSettings.Favorites.CONTAINER_DESKTOP,coords.first,coords.second[0],coords.second[1],1,1);
          model.addItemToDatabase(context,shortcutInfo,LauncherSettings.Favorites.CONTAINER_DESKTOP,coords.first,coords.second[0],coords.second[1],false);
          animatedShortcuts.add(shortcut);
        }
        iter.remove();
      }
      AnimatorSet anim=LauncherAnimUtils.createAnimatorSet();
      Collection<Animator> bounceAnims=new ArrayList<Animator>();
      for (int i=0; i < animatedShortcuts.size(); ++i) {
        View shortcut=animatedShortcuts.get(i);
        shortcut.setAlpha(0f);
        shortcut.setScaleX(0f);
        shortcut.setScaleY(0f);
        bounceAnims.add(createNewAppBounceAnimation(shortcut,i));
      }
      anim.playTogether(bounceAnims);
      anim.start();
    }
  }
);
  if (mAppsCustomizeContent != null) {
    mAppsCustomizeContent.addApps(apps);
  }
}
