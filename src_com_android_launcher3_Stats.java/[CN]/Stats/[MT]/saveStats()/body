{
  DataOutputStream stats=null;
  try {
    stats=new DataOutputStream(mLauncher.openFileOutput(LauncherFiles.STATS_LOG + ".tmp",Context.MODE_PRIVATE));
    stats.writeInt(STATS_VERSION);
    final int N=mHistogram.size();
    stats.writeInt(N);
    for (int i=0; i < N; i++) {
      stats.writeUTF(mIntents.get(i));
      stats.writeInt(mHistogram.get(i));
    }
    stats.close();
    stats=null;
    mLauncher.getFileStreamPath(LauncherFiles.STATS_LOG + ".tmp").renameTo(mLauncher.getFileStreamPath(LauncherFiles.STATS_LOG));
  }
 catch (  FileNotFoundException e) {
    Log.e(TAG,"unable to create stats data: " + e);
  }
catch (  IOException e) {
    Log.e(TAG,"unable to write to stats data: " + e);
  }
 finally {
    if (stats != null) {
      try {
        stats.close();
      }
 catch (      IOException e) {
      }
    }
  }
}
