{
  final Drawable drawable=mApplication.getWallpaper();
  if (drawable instanceof BitmapDrawable) {
    sWallpaper=((BitmapDrawable)drawable).getBitmap();
  }
 else {
    throw new IllegalStateException("The wallpaper must be a BitmapDrawable.");
  }
  if (mLauncher != null) {
    final Launcher launcher=mLauncher.get();
    if (launcher != null) {
      launcher.loadWallpaper();
    }
  }
}
