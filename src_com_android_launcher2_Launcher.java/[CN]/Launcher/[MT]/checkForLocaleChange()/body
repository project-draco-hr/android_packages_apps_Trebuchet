{
  final LocaleConfiguration localeConfiguration=new LocaleConfiguration();
  readConfiguration(this,localeConfiguration);
  final Configuration configuration=getResources().getConfiguration();
  final String previousLocale=localeConfiguration.locale;
  final String locale=configuration.locale.toString();
  final int previousMcc=localeConfiguration.mcc;
  final int mcc=configuration.mcc;
  final int previousMnc=localeConfiguration.mnc;
  final int mnc=configuration.mnc;
  boolean localeChanged=!locale.equals(previousLocale) || mcc != previousMcc || mnc != previousMnc;
  if (localeChanged) {
    localeConfiguration.locale=locale;
    localeConfiguration.mcc=mcc;
    localeConfiguration.mnc=mnc;
    writeConfiguration(this,localeConfiguration);
    mIconCache.flush();
  }
}
