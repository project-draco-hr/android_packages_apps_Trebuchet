{
  int appWidgetId=data.getIntExtra(AppWidgetManager.EXTRA_APPWIDGET_ID,-1);
  AppWidgetProviderInfo appWidget=mAppWidgetManager.getAppWidgetInfo(appWidgetId);
  if (appWidget.configure != null) {
    Intent intent=new Intent(AppWidgetManager.ACTION_APPWIDGET_CONFIGURE);
    intent.setComponent(appWidget.configure);
    intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID,appWidgetId);
    startActivityForResultSafely(intent,REQUEST_CREATE_APPWIDGET);
  }
 else {
    onActivityResult(REQUEST_CREATE_APPWIDGET,Activity.RESULT_OK,data);
  }
}
