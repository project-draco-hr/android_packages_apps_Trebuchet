{
  mVisible=visibility == View.VISIBLE;
  updateRunning();
  if (mVisible) {
    mAppsCustomizeTabHost.onWindowVisible();
    if (!mWorkspaceLoading) {
      final ViewTreeObserver observer=mWorkspace.getViewTreeObserver();
      observer.addOnDrawListener(new ViewTreeObserver.OnDrawListener(){
        public void onDraw(){
          mWorkspace.postDelayed(mBuildLayersRunnable,500);
          observer.removeOnDrawListener(this);
          return;
        }
      }
);
    }
    updateAppMarketIcon();
    clearTypedText();
  }
}
