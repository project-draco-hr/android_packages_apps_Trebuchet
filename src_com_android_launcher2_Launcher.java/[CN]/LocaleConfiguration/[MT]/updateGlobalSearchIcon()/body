{
  final ImageView searchButton=(ImageView)findViewById(R.id.search_button);
  final View searchDivider=findViewById(R.id.search_divider);
  final View voiceButton=findViewById(R.id.voice_button);
  final SearchManager searchManager=(SearchManager)getSystemService(Context.SEARCH_SERVICE);
  ComponentName activityName=searchManager.getGlobalSearchActivity();
  if (activityName != null) {
    int coi=getCurrentOrientationIndexForGlobalIcons();
    sGlobalSearchIcon[coi]=updateButtonWithIconFromExternalActivity(R.id.search_button,activityName,R.drawable.ic_home_search_normal_holo);
    searchButton.setVisibility(View.VISIBLE);
    if (searchDivider != null)     searchDivider.setVisibility(View.VISIBLE);
  }
 else {
    searchButton.setVisibility(View.GONE);
    if (searchDivider != null)     searchDivider.setVisibility(View.GONE);
    voiceButton.setVisibility(View.GONE);
  }
}
