{
  Object itemInfo=mAllAppsPagedView.getChosenItem();
  if (itemInfo == null) {
    itemInfo=mCustomizePagedView.getChosenItem();
  }
  if (itemInfo == null) {
    mWorkspace.unshrink(layout);
    if (isAllAppsVisible()) {
      closeAllApps(true);
    }
 else     if (isCustomizationDrawerVisible()) {
      hideCustomizationDrawer(true);
    }
  }
 else {
    if (mWorkspace.addExternalItemToScreen(itemInfo,layout)) {
      mAllAppsPagedView.endChoiceMode();
      mCustomizePagedView.endChoiceMode();
    }
 else {
      showOutOfSpaceMessage();
    }
  }
}
