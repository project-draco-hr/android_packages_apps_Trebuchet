{
  if (mState != State.WORKSPACE) {
    return false;
  }
  if (isWorkspaceLocked()) {
    return false;
  }
  if (!(v instanceof CellLayout)) {
    v=(View)v.getParent().getParent();
  }
  resetAddInfo();
  CellLayout.CellInfo longClickCellInfo=(CellLayout.CellInfo)v.getTag();
  if (longClickCellInfo == null) {
    return true;
  }
  final View itemUnderLongClick=longClickCellInfo.cell;
  boolean allowLongPress=isHotseatLayout(v) || mWorkspace.allowLongPress();
  if (allowLongPress && !mDragController.isDragging()) {
    if (itemUnderLongClick == null) {
      mWorkspace.performHapticFeedback(HapticFeedbackConstants.LONG_PRESS,HapticFeedbackConstants.FLAG_IGNORE_VIEW_SETTING);
      addItems();
    }
 else {
      if (!(itemUnderLongClick instanceof Folder)) {
        mWorkspace.performHapticFeedback(HapticFeedbackConstants.LONG_PRESS,HapticFeedbackConstants.FLAG_IGNORE_VIEW_SETTING);
        mWorkspace.startDrag(longClickCellInfo);
      }
    }
  }
  return true;
}
