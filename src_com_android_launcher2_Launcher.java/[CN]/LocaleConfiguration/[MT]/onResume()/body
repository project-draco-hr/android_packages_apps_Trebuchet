{
  super.onResume();
  mPaused=false;
  if (mRestoring || mOnResumeNeedsLoad) {
    mWorkspaceLoading=true;
    mModel.startLoader(this,true);
    mRestoring=false;
    mOnResumeNeedsLoad=false;
  }
  if (mWaitingForResume != null) {
    mWaitingForResume.setStayPressed(false);
  }
  updateAppMarketIcon();
  mAppsCustomizeTabHost.onResume();
  if (!mWorkspaceLoading) {
    final ViewTreeObserver observer=mWorkspace.getViewTreeObserver();
    final Workspace workspace=mWorkspace;
    observer.addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener(){
      boolean mFirstTime=true;
      public boolean onPreDraw(){
        if (mFirstTime) {
          mFirstTime=false;
        }
 else {
          workspace.post(mBuildLayersRunnable);
          observer.removeOnPreDrawListener(this);
        }
        return true;
      }
    }
);
  }
  clearTypedText();
}
