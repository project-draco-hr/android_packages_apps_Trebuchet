{
  setLoadOnResume();
  if (mSavedState != null) {
    if (!mWorkspace.hasFocus()) {
      mWorkspace.getChildAt(mWorkspace.getCurrentPage()).requestFocus();
    }
    final long[] userFolders=mSavedState.getLongArray(RUNTIME_STATE_USER_FOLDERS);
    if (userFolders != null) {
      for (      long folderId : userFolders) {
        final FolderInfo info=sFolders.get(folderId);
        if (info != null) {
          openFolder(info);
        }
      }
      final Folder openFolder=mWorkspace.getOpenFolder();
      if (openFolder != null) {
        openFolder.requestFocus();
      }
    }
    mSavedState=null;
  }
  if (mSavedInstanceState != null) {
    super.onRestoreInstanceState(mSavedInstanceState);
    mSavedInstanceState=null;
  }
  mWorkspaceLoading=false;
}
