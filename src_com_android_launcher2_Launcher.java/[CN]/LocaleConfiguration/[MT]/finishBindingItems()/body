{
  setLoadOnResume();
  if (mSavedState != null) {
    if (!mWorkspace.hasFocus()) {
      mWorkspace.getChildAt(mWorkspace.getCurrentPage()).requestFocus();
    }
    mSavedState=null;
  }
  if (mSavedInstanceState != null) {
    super.onRestoreInstanceState(mSavedInstanceState);
    mSavedInstanceState=null;
  }
  for (int i=0; i < sPendingAddList.size(); i++) {
    completeAdd(sPendingAddList.get(i));
  }
  sPendingAddList.clear();
  updateAppMarketIcon();
  if (mVisible || mWorkspaceLoading) {
    Runnable newAppsRunnable=new Runnable(){
      @Override public void run(){
        runNewAppsAnimation();
      }
    }
;
    if (mNewShortcutAnimatePage > -1 && mNewShortcutAnimatePage != mWorkspace.getCurrentPage()) {
      mWorkspace.snapToPage(mNewShortcutAnimatePage,newAppsRunnable);
    }
 else {
      newAppsRunnable.run();
    }
  }
  mWorkspaceLoading=false;
}
