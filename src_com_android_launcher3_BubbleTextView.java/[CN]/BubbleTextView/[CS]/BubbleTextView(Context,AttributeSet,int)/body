{
  super(context,attrs,defStyle);
  TypedArray a=context.obtainStyledAttributes(attrs,R.styleable.BubbleTextView,defStyle,0);
  mCustomShadowsEnabled=a.getBoolean(R.styleable.BubbleTextView_customShadows,true);
  a.recycle();
  if (mCustomShadowsEnabled) {
    mBackground=getBackground();
    setBackground(null);
  }
 else {
    mBackground=null;
  }
  mLongPressHelper=new CheckLongPressHelper(this);
  mOutlineHelper=HolographicOutlineHelper.obtain(getContext());
  if (mCustomShadowsEnabled) {
    setShadowLayer(SHADOW_LARGE_RADIUS,0.0f,SHADOW_Y_OFFSET,SHADOW_LARGE_COLOUR);
  }
  setAccessibilityDelegate(LauncherAppState.getInstance().getAccessibilityDelegate());
}
