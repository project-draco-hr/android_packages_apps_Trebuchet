{
  if (LOGD)   Log.d(LOG_TAG,"converting database from an older format, but not onUpgrade");
  boolean converted=false;
  final Uri uri=Uri.parse("content://" + Settings.AUTHORITY + "/old_favorites?notify=true");
  final ContentResolver resolver=mContext.getContentResolver();
  Cursor cursor=null;
  try {
    cursor=resolver.query(uri,null,null,null,null);
  }
 catch (  Exception e) {
  }
  if (cursor != null && cursor.getCount() > 0) {
    try {
      converted=copyFromCursor(db,cursor) > 0;
    }
  finally {
      cursor.close();
    }
    if (converted) {
      resolver.delete(uri,null,null);
    }
  }
  if (converted) {
    if (LOGD)     Log.d(LOG_TAG,"converted and now triggering widget upgrade");
    convertWidgets(db);
  }
  return converted;
}
