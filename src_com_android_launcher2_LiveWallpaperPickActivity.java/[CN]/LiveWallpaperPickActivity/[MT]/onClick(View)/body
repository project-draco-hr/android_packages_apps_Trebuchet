{
  if (v.getId() == R.id.set) {
    if (mSelectedIntent != null) {
      try {
        mWallpaperManager.getIWallpaperManager().setWallpaperComponent(mSelectedIntent.getComponent());
        this.setResult(RESULT_OK);
      }
 catch (      RemoteException e) {
      }
catch (      RuntimeException e) {
        Log.w(TAG,"Failure setting wallpaper",e);
      }
      finish();
    }
  }
 else   if (v.getId() == R.id.configure) {
    if (mSelectedInfo != null && mSelectedInfo.getSettingsActivity() != null) {
      Intent intent=new Intent();
      intent.setComponent(new ComponentName(mSelectedInfo.getPackageName(),mSelectedInfo.getSettingsActivity()));
      intent.putExtra(WallpaperSettingsActivity.EXTRA_PREVIEW_MODE,true);
      startActivity(intent);
    }
  }
}
