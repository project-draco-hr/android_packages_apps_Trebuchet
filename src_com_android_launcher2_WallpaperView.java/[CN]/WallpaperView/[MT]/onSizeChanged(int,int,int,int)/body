{
  if (mWallpaperLoaded) {
    mWallpaperLoaded=false;
    mWallpaper=Utilities.centerToFit(mWallpaper,width,height,getContext());
    mWallpaperWidth=mWallpaper.getWidth();
    mWallpaperHeight=mWallpaper.getHeight();
  }
  final int wallpaperWidth=mWallpaperWidth;
  mWallpaperOffset=wallpaperWidth > width ? (mScreenCount * width - wallpaperWidth) / ((mScreenCount - 1) * (float)width) : 1.0f;
}
