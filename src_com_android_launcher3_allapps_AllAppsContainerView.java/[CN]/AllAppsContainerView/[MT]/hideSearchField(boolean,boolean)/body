{
  mSearchManager.cancel(true);
  final boolean resetTextField=mSearchBarEditView.getText().toString().length() > 0;
  final int translationX=Utilities.pxFromDp(SEARCH_TRANSLATION_X_DP,getContext().getResources().getDisplayMetrics());
  if (animated) {
    mSearchBarContainerView.animate().alpha(0f).translationX(0).setDuration(FADE_IN_DURATION).withLayer().withEndAction(new Runnable(){
      @Override public void run(){
        mSearchBarContainerView.setVisibility(View.INVISIBLE);
        if (resetTextField) {
          mSearchBarEditView.setText("");
        }
        mApps.setOrderedFilter(null);
        if (returnFocusToRecyclerView) {
          mAppsRecyclerView.requestFocus();
        }
      }
    }
);
    mSearchButtonView.setTranslationX(-translationX);
    mSearchButtonView.animate().alpha(1f).translationX(0).setDuration(FADE_OUT_DURATION).withLayer();
  }
 else {
    mSearchBarContainerView.setVisibility(View.INVISIBLE);
    if (resetTextField) {
      mSearchBarEditView.setText("");
    }
    mApps.setOrderedFilter(null);
    mSearchButtonView.setAlpha(1f);
    mSearchButtonView.setTranslationX(0f);
    if (returnFocusToRecyclerView) {
      mAppsRecyclerView.requestFocus();
    }
  }
  getInputMethodManager().hideSoftInputFromWindow(getWindowToken(),0);
}
