{
  if (mIsInitialized) {
    canvas.save();
    LauncherAppState app=LauncherAppState.getInstance();
    DeviceProfile grid=app.getDynamicGrid().getDeviceProfile();
    Rect pageIndicatorBounds=grid.getWorkspacePageIndicatorBounds(mInsets);
    if (mBackground == null) {
      if (mDrawIdentifier.equals(WORKSPACE_CUSTOM)) {
        mBackground=getResources().getDrawable(R.drawable.bg_cling5);
      }
    }
    Bitmap eraseBg=null;
    Canvas eraseCanvas=null;
    if (mScrimView != null) {
      mScrimView.setBackgroundColor(mBackgroundColor);
    }
 else     if (mBackground != null) {
      mBackground.setBounds(0,0,getMeasuredWidth(),getMeasuredHeight());
      mBackground.draw(canvas);
    }
 else     if (mDrawIdentifier.equals(WORKSPACE_PORTRAIT) || mDrawIdentifier.equals(WORKSPACE_LANDSCAPE) || mDrawIdentifier.equals(WORKSPACE_LARGE)|| mDrawIdentifier.equals(MIGRATION_WORKSPACE_PORTRAIT)|| mDrawIdentifier.equals(MIGRATION_WORKSPACE_LARGE_PORTRAIT)|| mDrawIdentifier.equals(MIGRATION_WORKSPACE_LANDSCAPE)) {
      eraseBg=Bitmap.createBitmap(getMeasuredWidth(),getMeasuredHeight(),Bitmap.Config.ARGB_8888);
      eraseCanvas=new Canvas(eraseBg);
      eraseCanvas.drawColor(mBackgroundColor);
    }
 else {
      canvas.drawColor(mBackgroundColor);
    }
    DisplayMetrics metrics=new DisplayMetrics();
    mLauncher.getWindowManager().getDefaultDisplay().getMetrics(metrics);
    float alpha=getAlpha();
    View content=getContent();
    if (content != null) {
      alpha*=content.getAlpha();
    }
    if (mDrawIdentifier.equals(FIRST_RUN_PORTRAIT) || mDrawIdentifier.equals(FIRST_RUN_LANDSCAPE)) {
      View bubbleContent=findViewById(R.id.bubble_content);
      Rect bubbleRect=new Rect();
      bubbleContent.getGlobalVisibleRect(bubbleRect);
      mBubblePaint.setAlpha((int)(255 * alpha));
      float buffer=DynamicGrid.pxFromDp(FIRST_RUN_CIRCLE_BUFFER_DPS,metrics);
      float maxRadius=DynamicGrid.pxFromDp(FIRST_RUN_MAX_CIRCLE_RADIUS_DPS,metrics);
      float radius=Math.min(maxRadius,(bubbleContent.getMeasuredWidth() + buffer) / 2);
      canvas.drawCircle(metrics.widthPixels / 2,bubbleRect.centerY(),radius,mBubblePaint);
    }
 else     if (mDrawIdentifier.equals(WORKSPACE_PORTRAIT) || mDrawIdentifier.equals(WORKSPACE_LANDSCAPE) || mDrawIdentifier.equals(WORKSPACE_LARGE)) {
      Rect cutOutBounds=getWorkspaceCutOutBounds(metrics);
      mErasePaint.setAlpha(128);
      eraseCanvas.drawCircle(cutOutBounds.centerX(),cutOutBounds.centerY(),DynamicGrid.pxFromDp(WORKSPACE_OUTER_CIRCLE_RADIUS_DPS,metrics),mErasePaint);
      mErasePaint.setAlpha(0);
      eraseCanvas.drawCircle(cutOutBounds.centerX(),cutOutBounds.centerY(),DynamicGrid.pxFromDp(WORKSPACE_INNER_CIRCLE_RADIUS_DPS,metrics),mErasePaint);
      canvas.drawBitmap(eraseBg,0,0,null);
      eraseCanvas.setBitmap(null);
      eraseBg=null;
      if (mFocusedHotseatAppBounds != null && mFocusedHotseatApp != null) {
        mFocusedHotseatApp.setBounds(mFocusedHotseatAppBounds.left,mFocusedHotseatAppBounds.top,mFocusedHotseatAppBounds.right,mFocusedHotseatAppBounds.bottom);
        mFocusedHotseatApp.setAlpha((int)(255 * alpha));
        mFocusedHotseatApp.draw(canvas);
      }
    }
 else     if (mDrawIdentifier.equals(MIGRATION_WORKSPACE_PORTRAIT) || mDrawIdentifier.equals(MIGRATION_WORKSPACE_LARGE_PORTRAIT) || mDrawIdentifier.equals(MIGRATION_WORKSPACE_LANDSCAPE)) {
      int offset=DynamicGrid.pxFromDp(WORKSPACE_CIRCLE_Y_OFFSET_DPS,metrics);
      eraseCanvas.drawCircle(pageIndicatorBounds.centerX(),pageIndicatorBounds.centerY(),DynamicGrid.pxFromDp(MIGRATION_WORKSPACE_OUTER_CIRCLE_RADIUS_DPS,metrics),mBorderPaint);
      mErasePaint.setAlpha(0);
      eraseCanvas.drawCircle(pageIndicatorBounds.centerX(),pageIndicatorBounds.centerY(),DynamicGrid.pxFromDp(MIGRATION_WORKSPACE_INNER_CIRCLE_RADIUS_DPS,metrics),mErasePaint);
      canvas.drawBitmap(eraseBg,0,0,null);
      eraseCanvas.setBitmap(null);
      eraseBg=null;
    }
    canvas.restore();
  }
  super.dispatchDraw(canvas);
}
