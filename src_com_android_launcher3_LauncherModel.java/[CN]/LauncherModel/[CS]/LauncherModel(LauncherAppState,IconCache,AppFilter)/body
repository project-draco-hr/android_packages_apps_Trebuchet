{
  Context context=app.getContext();
  ContentResolver contentResolver=context.getContentResolver();
  mAppsCanBeOnRemoveableStorage=Environment.isExternalStorageRemovable();
  String oldProvider=context.getString(R.string.old_launcher_provider_uri);
  ContentProviderClient client=contentResolver.acquireContentProviderClient(Uri.parse(context.getString(R.string.old_launcher_provider_uri)));
  Log.d(TAG,"Old launcher provider: " + oldProvider);
  mOldContentProviderExists=(client != null);
  if (mOldContentProviderExists) {
    Log.d(TAG,"Old launcher provider exists.");
  }
 else {
    Log.d(TAG,"Old launcher provider does not exist.");
  }
  if (client != null) {
    client.release();
  }
  mApp=app;
  mBgAllAppsList=new AllAppsList(iconCache,appFilter);
  mIconCache=iconCache;
  final Resources res=context.getResources();
  Configuration config=res.getConfiguration();
  mPreviousConfigMcc=config.mcc;
  mLauncherApps=LauncherAppsCompat.getInstance(context);
  mUserManager=UserManagerCompat.getInstance(context);
}
