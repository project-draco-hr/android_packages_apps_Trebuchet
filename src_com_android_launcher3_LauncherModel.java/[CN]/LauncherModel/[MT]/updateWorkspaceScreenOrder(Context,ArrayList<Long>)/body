{
  Launcher.addDumpLog(TAG,"10249126 - updateWorkspaceScreenOrder()",true);
  final ArrayList<Long> screensCopy=new ArrayList<Long>(screens);
  final ContentResolver cr=context.getContentResolver();
  final Uri uri=LauncherSettings.WorkspaceScreens.CONTENT_URI;
  Iterator<Long> iter=screensCopy.iterator();
  while (iter.hasNext()) {
    long id=iter.next();
    if (id < 0) {
      Launcher.addDumpLog(TAG,"10249126 - updateWorkspaceScreenOrder - remove: " + id + ")",true);
      iter.remove();
    }
  }
  Launcher.addDumpLog(TAG,"10249126 - updateWorkspaceScreenOrder - screensCopy",true);
  for (  Long l : screensCopy) {
    Launcher.addDumpLog(TAG,"10249126\t- " + l,true);
  }
  Runnable r=new Runnable(){
    @Override public void run(){
      cr.delete(uri,null,null);
      int count=screensCopy.size();
      ContentValues[] values=new ContentValues[count];
      for (int i=0; i < count; i++) {
        ContentValues v=new ContentValues();
        long screenId=screensCopy.get(i);
        v.put(LauncherSettings.WorkspaceScreens._ID,screenId);
        v.put(LauncherSettings.WorkspaceScreens.SCREEN_RANK,i);
        Launcher.addDumpLog(TAG,"10249126 - updateWorkspaceScreenOrder(" + screenId + ", "+ i+ ")",true);
        values[i]=v;
      }
      cr.bulkInsert(uri,values);
      Launcher.addDumpLog(TAG,"10249126 - updateWorkspaceScreenOrder - sBgWorkspaceScreens",true);
      for (      Long l : sBgWorkspaceScreens) {
        Launcher.addDumpLog(TAG,"10249126\t- " + l,true);
      }
      sBgWorkspaceScreens.clear();
      sBgWorkspaceScreens.addAll(screensCopy);
      Launcher.addDumpLog(TAG,"10249126 - updateWorkspaceScreenOrder - sBgWorkspaceScreens",true);
      for (      Long l : sBgWorkspaceScreens) {
        Launcher.addDumpLog(TAG,"10249126\t- " + l,true);
      }
    }
  }
;
  runOnWorkerThread(r);
}
