{
  LauncherAppState app=LauncherAppState.getInstance();
  DeviceProfile grid=app.getDynamicGrid().getDeviceProfile();
  final int xCount=(int)grid.numColumns;
  final int yCount=(int)grid.numRows;
  boolean[][] occupied=new boolean[xCount][yCount];
  if (occupiedPos != null) {
    for (    Rect r : occupiedPos) {
      for (int x=r.left; 0 <= x && x < r.right && x < xCount; x++) {
        for (int y=r.top; 0 <= y && y < r.bottom && y < yCount; y++) {
          occupied[x][y]=true;
        }
      }
    }
  }
  return CellLayout.findVacantCell(xy,spanX,spanY,xCount,yCount,occupied);
}
