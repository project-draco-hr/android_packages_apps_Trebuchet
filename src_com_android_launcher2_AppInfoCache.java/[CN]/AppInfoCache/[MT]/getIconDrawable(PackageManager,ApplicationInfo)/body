{
  final ResolveInfo resolveInfo=packageManager.resolveActivity(info.intent,0);
  if (resolveInfo == null) {
    return null;
  }
  ComponentName componentName=new ComponentName(resolveInfo.activityInfo.applicationInfo.packageName,resolveInfo.activityInfo.name);
  ApplicationInfo cached;
synchronized (sCache) {
    cached=sCache.get(componentName);
    if (cached != null) {
      if (cached.icon == null) {
        cached.icon=resolveInfo.activityInfo.loadIcon(packageManager);
      }
      return cached.icon;
    }
 else {
      return resolveInfo.activityInfo.loadIcon(packageManager);
    }
  }
}
