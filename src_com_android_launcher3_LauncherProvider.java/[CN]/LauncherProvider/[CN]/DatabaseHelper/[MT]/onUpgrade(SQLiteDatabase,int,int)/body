{
  if (LOGD)   Log.d(TAG,"onUpgrade triggered: " + oldVersion);
switch (oldVersion) {
case 12:
{
      mMaxScreenId=0;
      addWorkspacesTable(db);
    }
case 13:
{
    db.beginTransaction();
    try {
      db.execSQL("ALTER TABLE favorites " + "ADD COLUMN appWidgetProvider TEXT;");
      db.setTransactionSuccessful();
    }
 catch (    SQLException ex) {
      Log.e(TAG,ex.getMessage(),ex);
      break;
    }
 finally {
      db.endTransaction();
    }
  }
case 14:
{
  db.beginTransaction();
  try {
    db.execSQL("ALTER TABLE favorites " + "ADD COLUMN modified INTEGER NOT NULL DEFAULT 0;");
    db.execSQL("ALTER TABLE workspaceScreens " + "ADD COLUMN modified INTEGER NOT NULL DEFAULT 0;");
    db.setTransactionSuccessful();
  }
 catch (  SQLException ex) {
    Log.e(TAG,ex.getMessage(),ex);
    break;
  }
 finally {
    db.endTransaction();
  }
}
case 15:
{
if (!addIntegerColumn(db,Favorites.RESTORED,0)) {
  break;
}
}
case 16:
{
LauncherClings.synchonouslyMarkFirstRunClingDismissed(mContext);
}
case 17:
{
}
case 18:
{
removeOrphanedItems(db);
}
case 19:
{
if (!addProfileColumn(db)) {
break;
}
}
case 20:
if (!updateFolderItemsRank(db,true)) {
break;
}
case 21:
if (!recreateWorkspaceTable(db)) {
break;
}
case 22:
{
if (!addIntegerColumn(db,Favorites.OPTIONS,0)) {
break;
}
}
case 23:
{
return;
}
}
Log.w(TAG,"Destroying all old data.");
createEmptyDB(db);
}
