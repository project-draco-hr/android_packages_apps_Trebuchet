{
  if (LOGD)   Log.d(TAG,"converting database from an older format, but not onUpgrade");
  boolean converted=false;
  final ContentResolver resolver=mContext.getContentResolver();
  Cursor cursor=null;
  try {
    cursor=resolver.query(uri,null,null,null,null);
  }
 catch (  Exception e) {
  }
  if (cursor != null) {
    try {
      if (cursor.getCount() > 0) {
        converted=copyFromCursor(db,cursor,cb) > 0;
        if (converted && deleteRows) {
          resolver.delete(uri,null,null);
        }
      }
    }
  finally {
      cursor.close();
    }
  }
  if (converted) {
    if (LOGD)     Log.d(TAG,"converted and now triggering widget upgrade");
    convertWidgets(db);
    mMaxItemId=initializeMaxItemId(db);
    if (LOGD)     Log.d(TAG,"mMaxItemId: " + mMaxItemId);
  }
  return converted;
}
