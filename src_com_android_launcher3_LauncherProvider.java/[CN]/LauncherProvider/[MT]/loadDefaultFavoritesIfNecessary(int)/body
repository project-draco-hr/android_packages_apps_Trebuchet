{
  String spKey=LauncherAppState.getSharedPreferencesKey();
  SharedPreferences sp=getContext().getSharedPreferences(spKey,Context.MODE_PRIVATE);
  if (sp.getBoolean(DB_CREATED_BUT_DEFAULT_WORKSPACE_NOT_LOADED,false)) {
    int workspaceResId=origWorkspaceResId;
    if (workspaceResId == 0) {
      workspaceResId=sp.getInt(DEFAULT_WORKSPACE_RESOURCE_ID,R.xml.default_workspace);
    }
    SharedPreferences.Editor editor=sp.edit();
    editor.remove(DB_CREATED_BUT_DEFAULT_WORKSPACE_NOT_LOADED);
    if (origWorkspaceResId != 0) {
      editor.putInt(DEFAULT_WORKSPACE_RESOURCE_ID,origWorkspaceResId);
    }
    mOpenHelper.loadFavorites(mOpenHelper.getWritableDatabase(),workspaceResId);
    editor.commit();
  }
}
