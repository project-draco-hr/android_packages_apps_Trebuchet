{
  super(context,attrs);
  mLayoutInflater=LayoutInflater.from(context);
  mPackageManager=context.getPackageManager();
  mContentType=ContentType.Applications;
  mApps=new ArrayList<ApplicationInfo>();
  mWidgets=new ArrayList<Object>();
  mIconCache=((LauncherApplication)context.getApplicationContext()).getIconCache();
  mWidgetPreviewCache=new LruCache<Object,Bitmap>(sWidgetPreviewCacheSize){
    protected int sizeOf(    Object key,    Bitmap value){
      return value.getByteCount();
    }
  }
;
  Resources resources=context.getResources();
  mDefaultWidgetBackground=resources.getDrawable(R.drawable.default_widget_preview);
  TypedArray a=context.obtainStyledAttributes(attrs,R.styleable.PagedView,0,0);
  mCellCountX=a.getInt(R.styleable.PagedView_cellCountX,6);
  mCellCountY=a.getInt(R.styleable.PagedView_cellCountY,4);
  a.recycle();
  a=context.obtainStyledAttributes(attrs,R.styleable.AppsCustomizePagedView,0,0);
  mWidgetCellWidthGap=a.getDimensionPixelSize(R.styleable.AppsCustomizePagedView_widgetCellWidthGap,10);
  mWidgetCellHeightGap=a.getDimensionPixelSize(R.styleable.AppsCustomizePagedView_widgetCellHeightGap,10);
  mWidgetCountX=a.getInt(R.styleable.AppsCustomizePagedView_widgetCountX,2);
  mWidgetCountY=a.getInt(R.styleable.AppsCustomizePagedView_widgetCountY,2);
  a.recycle();
  mWidgetSpacingLayout=new PagedViewCellLayout(context);
  setupPage(mWidgetSpacingLayout);
  mContentWidth=mWidgetSpacingLayout.getContentWidth();
  mMinWidgetSpan=1;
  mMaxWidgetSpan=3;
  int iconSize=resources.getDimensionPixelSize(R.dimen.app_icon_size);
  mWidgetPreviewIconPaddedDimension=(int)(iconSize * (1 + (2 * sWidgetPreviewIconPaddingPercentage)));
}
