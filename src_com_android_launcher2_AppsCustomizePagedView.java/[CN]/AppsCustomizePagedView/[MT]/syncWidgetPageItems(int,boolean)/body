{
  int numItemsPerPage=mWidgetCountX * mWidgetCountY;
  int contentWidth=mWidgetSpacingLayout.getContentWidth();
  int contentHeight=mWidgetSpacingLayout.getContentHeight();
  ArrayList<Object> items=new ArrayList<Object>();
  int cellWidth=((contentWidth - mPageLayoutPaddingLeft - mPageLayoutPaddingRight- ((mWidgetCountX - 1) * mWidgetWidthGap)) / mWidgetCountX);
  int cellHeight=((contentHeight - mPageLayoutPaddingTop - mPageLayoutPaddingBottom- ((mWidgetCountY - 1) * mWidgetHeightGap)) / mWidgetCountY);
  int offset=page * numItemsPerPage;
  for (int i=offset; i < Math.min(offset + numItemsPerPage,mWidgets.size()); ++i) {
    items.add(mWidgets.get(i));
  }
  if (immediate) {
    AsyncTaskPageData data=new AsyncTaskPageData(page,items,cellWidth,cellHeight,mWidgetCountX,null,null);
    loadWidgetPreviewsInBackground(null,data);
    onSyncWidgetPageItems(data);
  }
 else {
    prepareLoadWidgetPreviewsTask(page,items,cellWidth,cellHeight,mWidgetCountX);
  }
  PagedViewGridLayout layout=(PagedViewGridLayout)getPageAt(page);
  layout.createHardwareLayer();
}
