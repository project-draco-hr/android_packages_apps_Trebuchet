{
  ISearchManager sms;
  SearchableInfo searchable;
  sms=ISearchManager.Stub.asInterface(ServiceManager.getService(Context.SEARCH_SERVICE));
  try {
    searchable=sms.getSearchableInfo(null,true);
  }
 catch (  RemoteException e) {
    searchable=null;
  }
  if (searchable == null) {
    return;
  }
  mSearchable=searchable;
  mSearchText.setOnItemClickListener(this);
  mSearchText.setOnItemSelectedListener(this);
  mSuggestionsAdapter=new SuggestionsAdapter(mContext,com.android.internal.R.layout.search_dropdown_item_1line,null,SuggestionsAdapter.ONE_LINE_FROM,SuggestionsAdapter.ONE_LINE_TO,mSearchable);
  mSearchText.setAdapter(mSuggestionsAdapter);
}
