{
  boolean voiceSearchVisible=false;
  if (mSearchable.getVoiceSearchEnabled() && mSearchable.getVoiceSearchLaunchWebSearch()) {
    PackageManager pm=getContext().getPackageManager();
    List<ResolveInfo> list=pm.queryIntentActivities(mVoiceSearchIntent,PackageManager.MATCH_DEFAULT_ONLY);
    voiceSearchVisible=list.size() > 0;
  }
  mVoiceButton.setVisibility(voiceSearchVisible ? View.VISIBLE : View.GONE);
}
