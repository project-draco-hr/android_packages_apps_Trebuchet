{
  final DragLayer dragLayer=mLauncher.getDragLayer();
  final float startAlpha=dragLayer.getBackgroundAlpha();
  float finalAlpha=states.stateIsNormal ? 0 : mWorkspaceScrimAlpha;
  if (finalAlpha != startAlpha) {
    if (animated) {
      mBackgroundFadeOutAnimation=LauncherAnimUtils.ofFloat(mWorkspace,startAlpha,finalAlpha);
      mBackgroundFadeOutAnimation.addUpdateListener(new ValueAnimator.AnimatorUpdateListener(){
        public void onAnimationUpdate(        ValueAnimator animation){
          dragLayer.setBackgroundAlpha(((Float)animation.getAnimatedValue()).floatValue());
        }
      }
);
      mBackgroundFadeOutAnimation.setInterpolator(new DecelerateInterpolator(1.5f));
      mBackgroundFadeOutAnimation.setDuration(duration);
      mStateAnimator.play(mBackgroundFadeOutAnimation);
    }
 else {
      dragLayer.setBackgroundAlpha(finalAlpha);
    }
  }
}
