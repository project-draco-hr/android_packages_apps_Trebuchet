{
  AccessibilityManager am=(AccessibilityManager)mLauncher.getSystemService(Context.ACCESSIBILITY_SERVICE);
  final boolean accessibilityEnabled=am.isEnabled();
  TransitionStates states=new TransitionStates(fromState,toState);
  int duration=getAnimationDuration(states);
  animateWorkspace(states,toPage,animated,duration,layerViews,accessibilityEnabled);
  animateSearchBar(states,animated,duration,hasOverlaySearchBar,layerViews,accessibilityEnabled);
  animateBackgroundGradient(states,animated,BACKGROUND_FADE_OUT_DURATION);
  return mStateAnimator;
}
