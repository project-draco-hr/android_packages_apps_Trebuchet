{
  final Cursor c=resolver.query(LauncherSettings.Favorites.CONTENT_URI,new String[]{LauncherSettings.Favorites.ID,LauncherSettings.Favorites.TITLE,LauncherSettings.Favorites.INTENT,LauncherSettings.Favorites.ITEM_TYPE},null,null,null);
  final int idIndex=c.getColumnIndexOrThrow(LauncherSettings.Favorites.ID);
  final int intentIndex=c.getColumnIndexOrThrow(LauncherSettings.Favorites.INTENT);
  final int itemTypeIndex=c.getColumnIndexOrThrow(LauncherSettings.Favorites.ITEM_TYPE);
  final int titleIndex=c.getColumnIndexOrThrow(LauncherSettings.Favorites.TITLE);
  try {
    while (c.moveToNext()) {
      try {
        if (c.getInt(itemTypeIndex) != LauncherSettings.Favorites.ITEM_TYPE_APPLICATION) {
          continue;
        }
        final String intentUri=c.getString(intentIndex);
        if (intentUri != null) {
          final Intent shortcut=Intent.getIntent(intentUri);
          if (Intent.ACTION_MAIN.equals(shortcut.getAction())) {
            final ComponentName name=shortcut.getComponent();
            if (name != null) {
              final ActivityInfo activityInfo=manager.getActivityInfo(name,0);
              final String title=c.getString(titleIndex);
              String label=getLabel(manager,activityInfo);
              if (title == null || !title.equals(label)) {
                final ContentValues values=new ContentValues();
                values.put(LauncherSettings.Favorites.TITLE,label);
                resolver.update(LauncherSettings.Favorites.CONTENT_URI_NO_NOTIFICATION,values,"_id=?",new String[]{String.valueOf(c.getLong(idIndex))});
              }
            }
          }
        }
      }
 catch (      URISyntaxException e) {
      }
catch (      PackageManager.NameNotFoundException e) {
      }
    }
  }
  finally {
    c.close();
  }
}
