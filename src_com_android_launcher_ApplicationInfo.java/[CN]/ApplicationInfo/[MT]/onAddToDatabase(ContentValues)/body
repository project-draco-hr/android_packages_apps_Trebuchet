{
  super.onAddToDatabase(values);
  String titleStr=title != null ? title.toString() : null;
  values.put(LauncherSettings.BaseLauncherColumns.TITLE,titleStr);
  String uri=intent != null ? intent.toURI() : null;
  values.put(LauncherSettings.BaseLauncherColumns.INTENT,uri);
  if (customIcon) {
    values.put(LauncherSettings.BaseLauncherColumns.ICON_TYPE,LauncherSettings.BaseLauncherColumns.ICON_TYPE_BITMAP);
    Bitmap bitmap=((FastBitmapDrawable)icon).getBitmap();
    writeBitmap(values,bitmap);
  }
 else {
    values.put(LauncherSettings.BaseLauncherColumns.ICON_TYPE,LauncherSettings.BaseLauncherColumns.ICON_TYPE_RESOURCE);
    if (iconResource != null) {
      values.put(LauncherSettings.BaseLauncherColumns.ICON_PACKAGE,iconResource.packageName);
      values.put(LauncherSettings.BaseLauncherColumns.ICON_RESOURCE,iconResource.resourceName);
    }
  }
}
