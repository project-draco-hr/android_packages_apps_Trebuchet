{
  for (int i=0; i < ia.getCount(); i++) {
    FrameLayout thumbnail=(FrameLayout)ia.getView(i,null,parent);
    parent.addView(thumbnail,i);
    ThumbnailMetaData meta=new ThumbnailMetaData();
    if (imagesAreResources) {
      meta.mWallpaperResId=imageIds.get(i);
    }
 else {
      meta.mSavedWallpaperDbId=imageIds.get(i);
    }
    thumbnail.setTag(meta);
    if (addLongPressHandler) {
      addLongPressHandler(thumbnail);
    }
    thumbnail.setOnClickListener(mThumbnailOnClickListener);
    if (i == 0) {
      mThumbnailOnClickListener.onClick(thumbnail);
    }
  }
}
