{
  for (int i=0; i < adapter.getCount(); i++) {
    FrameLayout thumbnail=(FrameLayout)adapter.getView(i,null,parent);
    parent.addView(thumbnail,i);
    ThumbnailMetaData meta=new ThumbnailMetaData();
    meta.mTileType=tileType;
    if (tileType == TileType.WALLPAPER_RESOURCE) {
      meta.mWallpaperResId=imageIds.get(i);
    }
 else     if (tileType == TileType.SAVED_WALLPAPER) {
      meta.mSavedWallpaperDbId=imageIds.get(i);
    }
 else     if (tileType == TileType.LIVE_WALLPAPER) {
      meta.mLiveWallpaperInfo=(LiveWallpaperListAdapter.LiveWallpaperInfo)adapter.getItem(i);
    }
 else     if (tileType == TileType.THIRD_PARTY_WALLPAPER_PICKER) {
      meta.mThirdPartyWallpaperPickerInfo=(ResolveInfo)adapter.getItem(i);
    }
    thumbnail.setTag(meta);
    if (addLongPressHandler) {
      addLongPressHandler(thumbnail);
    }
    thumbnail.setOnClickListener(mThumbnailOnClickListener);
    if (i == 0 && selectFirstTile) {
      mThumbnailOnClickListener.onClick(thumbnail);
    }
  }
}
